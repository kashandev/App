DROP VIEW IF EXISTS `vw_gl0_coa_level1`;
CREATE VIEW `vw_gl0_coa_level1` AS 
SELECT 
	`gt`.`name` AS `gl_type`,
	`l1`.`coa_level1_id` AS `coa_level1_id`,
	`l1`.`company_id` AS `company_id`,
	`l1`.`gl_type_id` AS `gl_type_id`,
	`l1`.`level1_code` AS `level1_code`,
	`l1`.`name` AS `name`,
	`l1`.`status` AS `status`,
	`l1`.`created_at` AS `created_at`,
	`l1`.`created_by_id` AS `created_by_id`,
	concat(`l1`.`level1_code`,
	':',
	`l1`.`name`) AS `level1_display_name` 
FROM 
	(`gl0_coa_level1` `l1` left join `const_gl_type` `gt` on(`l1`.`gl_type_id` = `gt`.`gl_type_id`));

DROP VIEW IF EXISTS `vw_gl0_coa_level2`;
CREATE VIEW `vw_gl0_coa_level2` AS 
SELECT 
	`gt`.`name` AS `gl_type`,
	`l1`.`level1_code` AS `level1_code`,
	`l1`.`name` AS `level1_name`,
	concat(`l1`.`level1_code`,
	':',
	`l1`.`name`) AS `level1_display_name`,
	`l2`.`coa_level2_id` AS `coa_level2_id`,
	`l2`.`company_id` AS `company_id`,
	`l2`.`coa_level1_id` AS `coa_level1_id`,
	`l2`.`level2_code` AS `level2_code`,
	`l2`.`name` AS `name`,
	`l2`.`status` AS `status`,
	`l2`.`created_at` AS `created_at`,
	`l2`.`created_by_id` AS `created_by_id`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	':',
	`l2`.`name`) AS `level2_display_name` 
FROM 
	((`gl0_coa_level2` `l2` left join `gl0_coa_level1` `l1` on(`l1`.`company_id` = `l2`.`company_id` and `l1`.`coa_level1_id` = `l2`.`coa_level1_id`)) left join `const_gl_type` `gt` on(`l1`.`gl_type_id` = `gt`.`gl_type_id`));

DROP VIEW IF EXISTS `vw_gl0_coa_level3`;
CREATE VIEW `vw_gl0_coa_level3` AS 
SELECT 
	`gt`.`name` AS `gl_type`,
	`l1`.`level1_code` AS `level1_code`,
	`l1`.`name` AS `level1_name`,
	concat(`l1`.`level1_code`,
	':',
	`l1`.`name`) AS `level1_display_name`,
	`l2`.`level2_code` AS `level2_code`,
	`l2`.`name` AS `level2_name`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	':',
	`l2`.`name`) AS `level2_display_name`,
	`l3`.`coa_level3_id` AS `coa_level3_id`,
	`l3`.`company_id` AS `company_id`,
	`l3`.`coa_level2_id` AS `coa_level2_id`,
	`l3`.`coa_level1_id` AS `coa_level1_id`,
	`l3`.`level3_code` AS `level3_code`,
	`l3`.`name` AS `name`,
	`l3`.`status` AS `status`,
	`l3`.`created_at` AS `created_at`,
	`l3`.`created_by_id` AS `created_by_id`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	'-',
	`l3`.`level3_code`,
	':',
	`l3`.`name`) AS `level3_display_name` 
FROM 
	(((`gl0_coa_level3` `l3` left join `gl0_coa_level2` `l2` on(`l2`.`company_id` = `l3`.`company_id` and `l2`.`coa_level2_id` = `l3`.`coa_level2_id`)) left join `gl0_coa_level1` `l1` on(`l1`.`company_id` = `l2`.`company_id` and `l1`.`coa_level1_id` = `l2`.`coa_level1_id`)) left join `const_gl_type` `gt` on(`l1`.`gl_type_id` = `gt`.`gl_type_id`));

DROP VIEW IF EXISTS `vw_gl0_coa`;
CREATE VIEW `vw_gl0_coa` AS 
SELECT 
	`l1`.`company_id` AS `company_id`,
	`l1`.`gl_type_id` AS `gl_type_id`,
	`l1`.`coa_level1_id` AS `coa_level1_id`,
	`l1`.`level1_code` AS `level1_code`,
	`l1`.`name` AS `level1_name`,
	concat(`l1`.`level1_code`,
	': ',
	`l1`.`name`) AS `level1_display_name`,
	`l2`.`coa_level2_id` AS `coa_level2_id`,
	`l2`.`level2_code` AS `level2_code`,
	`l2`.`name` AS `level2_name`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	': ',
	`l2`.`name`) AS `level2_display_name`,
	`l3`.`coa_level3_id` AS `coa_level3_id`,
	`l3`.`level3_code` AS `level3_code`,
	`l3`.`name` AS `level3_name`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	'-',
	`l3`.`level3_code`,
	': ',
	`l3`.`name`) AS `level3_display_name`,
	`l3`.`coa_level3_id` AS `coa_id`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	'-',
	`l3`.`level3_code`) AS `coa_code`,
	`l3`.`name` AS `coa_name`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	'-',
	`l3`.`level3_code`,
	': ',
	`l3`.`name`) AS `coa_display_name` 
FROM 
	((`gl0_coa_level1` `l1` join `gl0_coa_level2` `l2` on(`l2`.`coa_level1_id` = `l1`.`coa_level1_id`)) join `gl0_coa_level3` `l3` on(`l3`.`coa_level2_id` = `l2`.`coa_level2_id` and `l3`.`coa_level1_id` = `l1`.`coa_level1_id`));

DROP VIEW IF EXISTS `vw_gl0_coa_all`;
CREATE VIEW `vw_gl0_coa_all` AS 
SELECT 
	`l1`.`company_id` AS `company_id`,
	`l1`.`gl_type_id` AS `gl_type_id`,
	`l1`.`coa_level1_id` AS `coa_level1_id`,
	`l1`.`level1_code` AS `level1_code`,
	`l1`.`name` AS `level1_name`,
	concat(`l1`.`level1_code`,
	': ',
	`l1`.`name`) AS `level1_display_name`,
	`l2`.`coa_level2_id` AS `coa_level2_id`,
	`l2`.`level2_code` AS `level2_code`,
	`l2`.`name` AS `level2_name`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	': ',
	`l2`.`name`) AS `level2_display_name`,
	`l3`.`coa_level3_id` AS `coa_level3_id`,
	`l3`.`level3_code` AS `level3_code`,
	`l3`.`name` AS `level3_name`,
	concat(`l1`.`level1_code`,
	'-',
	`l2`.`level2_code`,
	'-',
	`l3`.`level3_code`,
	': ',
	`l3`.`name`) AS `level3_display_name` 
FROM 
	((`gl0_coa_level1` `l1` left join `gl0_coa_level2` `l2` on(`l2`.`coa_level1_id` = `l1`.`coa_level1_id`)) left join `gl0_coa_level3` `l3` on(`l3`.`coa_level2_id` = `l2`.`coa_level2_id` and `l3`.`coa_level1_id` = `l1`.`coa_level1_id`));

DROP VIEW IF EXISTS `vw_core_partner`;
CREATE VIEW `vw_core_partner` AS 
SELECT 
	`p`.`company_id` AS `company_id`,
	`p`.`company_branch_id` AS `company_branch_id`,
	`p`.`partner_type_id` AS `partner_type_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`partner_id` AS `partner_id`,
	`p`.`partner_category_id` AS `partner_category_id`,
	`p`.`name` AS `name`,
	`p`.`address` AS `address`,
	`p`.`gst_no` AS `gst_no`,
	`p`.`ntn_no` AS `ntn_no`,
	`p`.`document_currency_id` AS `document_currency_id`,
	`p`.`day_limit` AS `day_limit`,
	`p`.`amount_limit` AS `amount_limit`,
	`p`.`phone` AS `phone`,
	`p`.`mobile` AS `mobile`,
	`p`.`fax` AS `fax`,
	`p`.`email` AS `email`,
	`p`.`cash_account_id` AS `cash_account_id`,
	`p`.`outstanding_account_id` AS `outstanding_account_id`,
	`p`.`advance_account_id` AS `advance_account_id`,
	`p`.`created_at` AS `created_at`,
	`p`.`created_by_id` AS `created_by_id`,
	`p`.`modified_at` AS `modified_at`,
	`p`.`modified_by_id` AS `modified_by_id`,
	`p`.`ref_id` AS `ref_id`,
	`pc`.`name` AS `partner_category`,
	`c`.`name` AS `document_currency`,
	`l3o`.`level3_display_name` AS `outstanding_account`,
	`l3c`.`level3_display_name` AS `cash_account`,
	`l3a`.`level3_display_name` AS `advance_account` 
FROM 
	(((((`core_partner` `p` left join `core_partner_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`partner_category_id` = `p`.`partner_category_id`)) left join `core_currency` `c` on(`c`.`company_id` = `p`.`company_id` and `c`.`currency_id` = `p`.`document_currency_id`)) left join `vw_gl0_coa_level3` `l3o` on(`l3o`.`company_id` = `p`.`company_id` and `l3o`.`coa_level3_id` = `p`.`outstanding_account_id`)) left join `vw_gl0_coa_level3` `l3c` on(`l3c`.`company_id` = `p`.`company_id` and `l3c`.`coa_level3_id` = `p`.`cash_account_id`)) left join `vw_gl0_coa_level3` `l3a` on(`l3a`.`company_id` = `p`.`company_id` and `l3a`.`coa_level3_id` = `p`.`advance_account_id`));

DROP VIEW IF EXISTS `vw_core_ledger`;
CREATE VIEW `vw_core_ledger` AS 
SELECT 
	`l`.`company_id` AS `company_id`,
	`l`.`company_branch_id` AS `company_branch_id`,
	`l`.`fiscal_year_id` AS `fiscal_year_id`,
	`l`.`ledger_id` AS `ledger_id`,
	`l`.`document_type_id` AS `document_type_id`,
	`l`.`document_id` AS `document_id`,
	`l`.`document_identity` AS `document_identity`,
	`l`.`document_date` AS `document_date`,
	`l`.`sort_order` AS `sort_order`,
	`l`.`partner_type_id` AS `partner_type_id`,
	`p`.`partner_type` AS `partner_type`,
	`l`.`partner_id` AS `partner_id`,
	`p`.`name` AS `partner_name`,
	`l`.`ref_document_type_id` AS `ref_document_type_id`,
	`l`.`ref_document_identity` AS `ref_document_identity`,
	`l`.`remarks` AS `remarks`,
	`l`.`coa_id` AS `coa_id`,
	`c`.`level3_code` AS `level3_code`,
	`c`.`name` AS `level3_name`,
	`c`.`level3_display_name` AS `account`,
	`c`.`coa_level2_id` AS `coa_level2_id`,
	`c`.`level2_code` AS `level2_code`,
	`c`.`level2_name` AS `level2_name`,
	`c`.`level2_display_name` AS `level2_display_name`,
	`c`.`coa_level1_id` AS `coa_level1_id`,
	`c`.`level1_code` AS `level1_code`,
	`c`.`level1_name` AS `level1_name`,
	`c`.`level1_display_name` AS `level1_display_name`,
	`l`.`document_currency_id` AS `document_currency_id`,
	`l`.`document_debit` AS `document_debit`,
	`l`.`document_credit` AS `document_credit`,
	`l`.`base_currency_id` AS `base_currency_id`,
	`l`.`conversion_rate` AS `conversion_rate`,
	`l`.`debit` AS `debit`,
	`l`.`credit` AS `credit`,
	`l`.`created_at` AS `created_at`,
	`l`.`po_no` AS `po_no`,
	`l`.`cheque_no` AS `cheque_no`,
	`l`.`cheque_date` AS `cheque_date`,
	`l`.`product_id` AS `product_id`,
	`l`.`qty` AS `qty`,
	`l`.`amount` AS `amount`,
	`l`.`document_amount` AS `document_amount` 
FROM 
	((`core_ledger` `l` left join `vw_core_partner` `p` on(`p`.`company_id` = `l`.`company_id` and `p`.`partner_type_id` = `l`.`partner_type_id` and `p`.`partner_id` = `l`.`partner_id`)) left join `vw_gl0_coa_level3` `c` on(`c`.`company_id` = `l`.`company_id` and `c`.`coa_level3_id` = `l`.`coa_id`));

DROP VIEW IF EXISTS `vw_core_stock_ledger`;
CREATE VIEW `vw_core_stock_ledger` AS 
SELECT 
	`sl`.`company_id` AS `company_id`,
	`sl`.`company_branch_id` AS `company_branch_id`,
	`sl`.`fiscal_year_id` AS `fiscal_year_id`,
	`sl`.`document_type_id` AS `document_type_id`,
	`sl`.`document_id` AS `document_id`,
	`sl`.`document_identity` AS `document_identity`,
	`sl`.`document_date` AS `document_date`,
	`sl`.`warehouse_id` AS `warehouse_id`,
	`sl`.`document_detail_id` AS `document_detail_id`,
	`sl`.`product_id` AS `product_id`,
	`sl`.`document_unit_id` AS `document_unit_id`,
	`sl`.`document_qty` AS `document_qty`,
	`sl`.`unit_conversion` AS `unit_conversion`,
	`sl`.`base_unit_id` AS `base_unit_id`,
	`sl`.`base_qty` AS `base_qty`,
	`sl`.`document_currency_id` AS `document_currency_id`,
	`sl`.`document_rate` AS `document_rate`,
	`sl`.`document_amount` AS `document_amount`,
	`sl`.`currency_conversion` AS `currency_conversion`,
	`sl`.`base_currency_id` AS `base_currency_id`,
	`sl`.`base_rate` AS `base_rate`,
	`sl`.`base_amount` AS `base_amount`,
	`sl`.`remarks` AS `remarks`,
	`sl`.`created_at` AS `created_at`,
	`sl`.`created_by_id` AS `created_by_id`,
	`sl`.`unit` AS `unit`,
	`wh`.`name` AS `warehouse`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`product_sub_category_id` AS `product_sub_category_id`,
	`psc`.`name` AS `product_sub_category`,
	`p`.`product_code` AS `product_code`,
	`p`.`name` AS `product_name`,
	`p`.`product_image` AS `product_image`,
	`p`.`reorder_quantity` AS `reorder_quantity`,
	`p`.`cost_price` AS `cost_price`,
	`p`.`sale_price` AS `sale_price`,
	`p`.`inventory_account_id` AS `inventory_account_id`,
	`p`.`cogs_account_id` AS `cogs_account_id`,
	`p`.`revenue_account_id` AS `revenue_account_id`,
	`p`.`adjustment_account_id` AS `adjustment_account_id`,
	`ud`.`code` AS `document_unit_code`,
	`ud`.`name` AS `document_unit`,
	`ub`.`code` AS `base_unit_code`,
	`ub`.`name` AS `base_unit`,
	`sfd`.`sort_order` AS `sfd_sort_order`,
	`sl`.`sort_order` AS `sort_order` 
FROM 
	(((((((`core_stock_ledger` `sl` left join `in0_warehouse` `wh` on(`wh`.`company_id` = `sl`.`company_id` and `wh`.`company_branch_id` = `sl`.`company_branch_id` and `wh`.`warehouse_id` = `sl`.`warehouse_id`)) left join `in0_product` `p` on(`p`.`company_id` = `sl`.`company_id` and `p`.`product_id` = `sl`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_product_sub_category` `psc` on(`psc`.`company_id` = `p`.`company_id` and `psc`.`product_sub_category_id` = `p`.`product_sub_category_id`)) left join `in0_unit` `ud` on(`ud`.`company_id` = `sl`.`company_id` and `ud`.`unit_id` = `sl`.`document_unit_id`)) left join `in0_unit` `ub` on(`ub`.`company_id` = `sl`.`company_id` and `ub`.`unit_id` = `sl`.`base_unit_id`)) join `const_stock_flow_document` `sfd` on(`sfd`.`document_type_id` = `sl`.`document_type_id`));

DROP VIEW IF EXISTS `vw_bank_reconciliation`;
CREATE VIEW `vw_bank_reconciliation` AS 
SELECT 
	`br`.`bank_reconciliation_id` AS `bank_reconciliation_id`,
	`br`.`company_id` AS `company_id`,
	`br`.`company_branch_id` AS `company_branch_id`,
	`br`.`fiscal_year_id` AS `fiscal_year_id`,
	`br`.`document_type_id` AS `document_type_id`,
	`br`.`document_prefix` AS `document_prefix`,
	`br`.`document_no` AS `document_no`,
	`br`.`document_identity` AS `document_identity`,
	`br`.`document_date` AS `document_date`,
	`br`.`from_date` AS `from_date`,
	`br`.`to_date` AS `to_date`,
	`br`.`coa_level3_id` AS `coa_level3_id`,
	`br`.`closing_balance` AS `closing_balance`,
	`br`.`total_debit` AS `total_debit`,
	`br`.`total_credit` AS `total_credit`,
	`br`.`total_balance` AS `total_balance`,
	`br`.`remarks` AS `remarks`,
	`br`.`is_post` AS `is_post`,
	`br`.`post_date` AS `post_date`,
	`br`.`post_by_id` AS `post_by_id`,
	`br`.`created_at` AS `created_at`,
	`br`.`created_by_id` AS `created_by_id`,
	`l`.`name` AS `bank` 
FROM 
	(`glt_bank_reconciliation` `br` left join `gl0_coa_level3` `l` on(`br`.`coa_level3_id` = `l`.`coa_level3_id`));

DROP VIEW IF EXISTS `vw_branch_stock_transfer`;
CREATE VIEW `vw_branch_stock_transfer` AS 
SELECT 
	`st`.`company_id` AS `company_id`,
	`st`.`company_branch_id` AS `company_branch_id`,
	`st`.`fiscal_year_id` AS `fiscal_year_id`,
	`st`.`branch_stock_transfer_id` AS `branch_stock_transfer_id`,
	`st`.`document_type_id` AS `document_type_id`,
	`st`.`document_prefix` AS `document_prefix`,
	`st`.`document_no` AS `document_no`,
	`st`.`document_date` AS `document_date`,
	`st`.`document_identity` AS `document_identity`,
	`st`.`warehouse_id` AS `warehouse_id`,
	`st`.`remarks` AS `remarks`,
	`st`.`document_currency_id` AS `document_currency_id`,
	`st`.`total_qty` AS `total_qty`,
	`st`.`total_amount` AS `total_amount`,
	`st`.`base_currency_id` AS `base_currency_id`,
	`st`.`conversion_rate` AS `conversion_rate`,
	`st`.`base_amount` AS `base_amount`,
	`st`.`created_at` AS `created_at`,
	`st`.`created_by_id` AS `created_by_id`,
	`st`.`is_post` AS `is_post`,
	`st`.`post_date` AS `post_date`,
	`st`.`post_by_id` AS `post_by_id`,
	`w`.`name` AS `warehouse` 
FROM 
	(`branch_stock_transfer` `st` left join `in0_warehouse` `w` on(`w`.`company_id` = `st`.`company_id` and `w`.`company_branch_id` = `st`.`company_branch_id` and `w`.`warehouse_id` = `st`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_branch_stock_transfer_detail`;
CREATE VIEW `vw_branch_stock_transfer_detail` AS 
SELECT 
	`std`.`company_id` AS `company_id`,
	`std`.`company_branch_id` AS `company_branch_id`,
	`std`.`fiscal_year_id` AS `fiscal_year_id`,
	`std`.`branch_stock_transfer_id` AS `branch_stock_transfer_id`,
	`std`.`branch_stock_transfer_detail_id` AS `branch_stock_transfer_detail_id`,
	`std`.`sort_order` AS `sort_order`,
	`std`.`product_id` AS `product_id`,
	`std`.`product_code` AS `product_code`,
	`std`.`to_company_branch_id` AS `to_company_branch_id`,
	`std`.`warehouse_id` AS `warehouse_id`,
	`std`.`document_currency_id` AS `document_currency_id`,
	`std`.`unit_id` AS `unit_id`,
	`std`.`stock_qty` AS `stock_qty`,
	`std`.`qty` AS `qty`,
	`std`.`cog_rate` AS `cog_rate`,
	`std`.`cog_amount` AS `cog_amount`,
	`std`.`base_currency_id` AS `base_currency_id`,
	`std`.`conversion_rate` AS `conversion_rate`,
	`std`.`base_cog_rate` AS `base_cog_rate`,
	`std`.`base_cog_amount` AS `base_cog_amount`,
	`std`.`rate` AS `rate`,
	`std`.`amount` AS `amount`,
	`std`.`created_at` AS `created_at`,
	`std`.`created_by_id` AS `created_by_id`,
	`st`.`document_type_id` AS `document_type_id`,
	`st`.`document_identity` AS `document_identity`,
	`st`.`document_date` AS `document_date`,
	`st`.`is_post` AS `is_post`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`u`.`code` AS `unit_code`,
	`wh`.`name` AS `warehouse` 
FROM 
	(((((`branch_stock_transfer_detail` `std` join `branch_stock_transfer` `st` on(`st`.`branch_stock_transfer_id` = `std`.`branch_stock_transfer_id`)) left join `in0_product` `p` on(`p`.`company_id` = `std`.`company_id` and `p`.`product_id` = `std`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `std`.`company_id` and `u`.`unit_id` = `std`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `std`.`company_id` and `wh`.`company_branch_id` = `std`.`to_company_branch_id` and `wh`.`warehouse_id` = `std`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_core_customer`;
CREATE VIEW `vw_core_customer` AS 
SELECT 
	`c`.`company_id` AS `company_id`,
	`c`.`company_branch_id` AS `company_branch_id`,
	`c`.`partner_category_id` AS `partner_category_id`,
	`c`.`customer_id` AS `customer_id`,
	`c`.`name` AS `name`,
	`c`.`customer_code` AS `customer_code`,
	`c`.`address` AS `address`,
	`c`.`phone` AS `phone`,
	`c`.`mobile` AS `mobile`,
	`c`.`email` AS `email`,
	`c`.`gst_no` AS `gst_no`,
	`c`.`ntn_no` AS `ntn_no`,
	`c`.`day_limit` AS `day_limit`,
	`c`.`amount_limit` AS `amount_limit`,
	`c`.`document_currency_id` AS `document_currency_id`,
	`c`.`cash_account_id` AS `cash_account_id`,
	`c`.`outstanding_account_id` AS `outstanding_account_id`,
	`c`.`advance_account_id` AS `advance_account_id`,
	`c`.`created_at` AS `created_at`,
	`c`.`created_by_id` AS `created_by_id`,
	`c`.`ref_id` AS `ref_id`,
	`cc`.`name` AS `partner_category`,
	`ccc`.`name` AS `currency` 
FROM 
	((`core_customer` `c` left join `core_partner_category` `cc` on(`c`.`partner_category_id` = `cc`.`partner_category_id` and `c`.`company_id` = `cc`.`company_id`)) left join `core_currency` `ccc` on(`ccc`.`currency_id` = `c`.`document_currency_id` and `ccc`.`company_id` = `c`.`company_id`));

DROP VIEW IF EXISTS `vw_core_document`;
CREATE VIEW `vw_core_document` AS 
SELECT 
	`dt`.`table_name` AS `table_name`,
	`dt`.`primary_key` AS `primary_key`,
	`d`.`partner_type_id` AS `partner_type_id`,
	`d`.`partner_id` AS `partner_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name`,
	if(`d`.`route` is null,
	`dt`.`route`,
	`d`.`route`) AS `route`,
	if(`d`.`primary_key_field` is null,
	`dt`.`primary_key`,
	`d`.`primary_key_field`) AS `primary_key_field`,
	if(`d`.`primary_key_value` is null,
	`d`.`document_id`,
	`d`.`primary_key_value`) AS `primary_key_value`,
	`d`.`document_type_id` AS `document_type_id`,
	`dt`.`document_name` AS `document_name`,
	`d`.`document_id` AS `document_id`,
	`d`.`document_identity` AS `document_identity`,
	`d`.`document_date` AS `document_date`,
	`d`.`document_currency_id` AS `document_currency_id`,
	`d`.`document_amount` AS `document_amount`,
	`d`.`conversion_rate` AS `conversion_rate`,
	`d`.`base_currency_id` AS `base_currency_id`,
	`d`.`base_amount` AS `base_amount`,
	`d`.`is_post` AS `is_post`,
	`d`.`post_date` AS `post_date`,
	`d`.`post_by_id` AS `post_by_id`,
	`d`.`created_at` AS `created_at`,
	`d`.`created_by_id` AS `created_by_id`,
	`d`.`company_id` AS `company_id`,
	`d`.`company_branch_id` AS `company_branch_id`,
	`d`.`fiscal_year_id` AS `fiscal_year_id` 
FROM 
	((`core_document` `d` left join `const_document_type` `dt` on(`dt`.`document_type_id` = `d`.`document_type_id`)) left join `core_partner` `p` on(`p`.`partner_type_id` = `d`.`partner_type_id` and `p`.`partner_id` = `d`.`partner_id`));

DROP VIEW IF EXISTS `vw_core_outstanding_document`;
CREATE VIEW `vw_core_outstanding_document` AS 
SELECT 
	`l`.`company_id` AS `company_id`,
	`l`.`company_branch_id` AS `company_branch_id`,
	`l`.`fiscal_year_id` AS `fiscal_year_id`,
	`d`.`is_post` AS `is_post`,
	`l`.`partner_type_id` AS `partner_type_id`,
	`l`.`partner_id` AS `partner_id`,
	`p`.`name` AS `name`,
	`l`.`ref_document_type_id` AS `ref_document_type_id`,
	`l`.`ref_document_identity` AS `ref_document_identity`,
	`d`.`document_id` AS `document_id`,
	`d`.`document_date` AS `document_date`,
	`d`.`base_amount` AS `document_amount`,
	`d`.`route` AS `route`,
	`d`.`primary_key_field` AS `primary_key_field`,
	`d`.`primary_key_value` AS `primary_key_value`,
	`l`.`po_no` AS `po_no`,
	`l`.`dc_no` AS `dc_no`,
	`p`.`partner_category_id` AS `partner_category_id`,
	sum(case when `l`.`ref_document_type_id` in (1,
	3,
	24) then `l`.`credit` - `l`.`debit` else `l`.`debit` - `l`.`credit` end) AS `outstanding_amount`,
	sum(case when `l`.`ref_document_type_id` in (2,
	11,
	34,
	39) then `l`.`debit` - `l`.`credit` else 0 end) AS `debit_amount`,
	sum(case when `l`.`ref_document_type_id` in (1,
	24) then `l`.`credit` - `l`.`debit` else 0 end) AS `credit_amount` 
FROM 
	((`core_ledger` `l` join `core_partner` `p` on(`l`.`company_id` = `p`.`company_id` and `l`.`partner_type_id` = `p`.`partner_type_id` and `l`.`partner_id` = `p`.`partner_id` and `l`.`coa_id` = `p`.`outstanding_account_id`)) left join `core_document` `d` on(`d`.`document_type_id` = `l`.`ref_document_type_id` and `d`.`document_identity` = `l`.`ref_document_identity`)) 
GROUP BY 
	`l`.`company_id`,
	`l`.`fiscal_year_id`,
	`l`.`partner_type_id`,
	`l`.`partner_id`,
	`l`.`ref_document_type_id`,
	`l`.`ref_document_identity`;

DROP VIEW IF EXISTS `vw_core_salesman`;
CREATE VIEW `vw_core_salesman` AS 
SELECT 
	`c`.`company_id` AS `company_id`,
	`c`.`company_branch_id` AS `company_branch_id`,
	`c`.`partner_category_id` AS `partner_category_id`,
	`c`.`salesman_id` AS `salesman_id`,
	`c`.`name` AS `name`,
	`c`.`address` AS `address`,
	`c`.`phone` AS `phone`,
	`c`.`mobile` AS `mobile`,
	`c`.`email` AS `email`,
	`c`.`created_at` AS `created_at`,
	`c`.`created_by_id` AS `created_by_id`,
	`c`.`ref_id` AS `ref_id` 
FROM 
	`core_salesman` `c`;

DROP VIEW IF EXISTS `vw_core_supplier`;
CREATE VIEW `vw_core_supplier` AS 
SELECT 
	`c`.`company_id` AS `company_id`,
	`c`.`company_branch_id` AS `company_branch_id`,
	`c`.`partner_category_id` AS `partner_category_id`,
	`c`.`supplier_id` AS `supplier_id`,
	`c`.`name` AS `name`,
	`c`.`address` AS `address`,
	`c`.`phone` AS `phone`,
	`c`.`mobile` AS `mobile`,
	`c`.`email` AS `email`,
	`c`.`gst_no` AS `gst_no`,
	`c`.`ntn_no` AS `ntn_no`,
	`c`.`day_limit` AS `day_limit`,
	`c`.`amount_limit` AS `amount_limit`,
	`c`.`document_currency_id` AS `document_currency_id`,
	`c`.`cash_account_id` AS `cash_account_id`,
	`c`.`outstanding_account_id` AS `outstanding_account_id`,
	`c`.`advance_account_id` AS `advance_account_id`,
	`c`.`created_at` AS `created_at`,
	`c`.`created_by_id` AS `created_by_id`,
	`c`.`ref_id` AS `ref_id`,
	`cc`.`name` AS `partner_category`,
	`ccc`.`name` AS `currency` 
FROM 
	((`core_supplier` `c` left join `core_partner_category` `cc` on(`c`.`partner_category_id` = `cc`.`partner_category_id` and `c`.`company_id` = `cc`.`company_id`)) left join `core_currency` `ccc` on(`ccc`.`currency_id` = `c`.`document_currency_id` and `ccc`.`company_id` = `c`.`company_id`));

DROP VIEW IF EXISTS `vw_gla_advance_payment`;
CREATE VIEW `vw_gla_advance_payment` AS 
SELECT 
	`ap`.`advance_payment_id` AS `advance_payment_id`,
	`ap`.`company_id` AS `company_id`,
	`ap`.`company_branch_id` AS `company_branch_id`,
	`ap`.`fiscal_year_id` AS `fiscal_year_id`,
	`ap`.`document_type_id` AS `document_type_id`,
	`ap`.`document_prefix` AS `document_prefix`,
	`ap`.`document_no` AS `document_no`,
	`ap`.`document_date` AS `document_date`,
	`ap`.`document_identity` AS `document_identity`,
	`ap`.`account_type` AS `account_type`,
	`ap`.`transaction_account_id` AS `transaction_account_id`,
	`ap`.`partner_type_id` AS `partner_type_id`,
	`ap`.`partner_id` AS `partner_id`,
	`ap`.`base_currency_id` AS `base_currency_id`,
	`ap`.`document_currency_id` AS `document_currency_id`,
	`ap`.`conversion_rate` AS `conversion_rate`,
	`ap`.`cheque_date` AS `cheque_date`,
	`ap`.`cheque_no` AS `cheque_no`,
	`ap`.`remarks` AS `remarks`,
	`ap`.`amount` AS `amount`,
	`ap`.`wht_account_id` AS `wht_account_id`,
	`ap`.`wht_tax_amount` AS `wht_tax_amount`,
	`ap`.`base_amount` AS `base_amount`,
	`ap`.`base_wht_tax_amount` AS `base_wht_tax_amount`,
	`ap`.`is_post` AS `is_post`,
	`ap`.`post_date` AS `post_date`,
	`ap`.`posted_by_id` AS `posted_by_id`,
	`ap`.`created_at` AS `created_at`,
	`ap`.`created_by_id` AS `created_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`gla_advance_payment` `ap` left join `core_partner` `p` on(`p`.`partner_type_id` = `ap`.`partner_type_id` and `p`.`partner_id` = `ap`.`partner_id`));

DROP VIEW IF EXISTS `vw_gla_advance_receipt`;
CREATE VIEW `vw_gla_advance_receipt` AS 
SELECT 
	`ar`.`advance_receipt_id` AS `advance_receipt_id`,
	`ar`.`company_id` AS `company_id`,
	`ar`.`company_branch_id` AS `company_branch_id`,
	`ar`.`fiscal_year_id` AS `fiscal_year_id`,
	`ar`.`document_type_id` AS `document_type_id`,
	`ar`.`document_prefix` AS `document_prefix`,
	`ar`.`document_no` AS `document_no`,
	`ar`.`document_date` AS `document_date`,
	`ar`.`document_identity` AS `document_identity`,
	`ar`.`account_type` AS `account_type`,
	`ar`.`transaction_account_id` AS `transaction_account_id`,
	`ar`.`partner_type_id` AS `partner_type_id`,
	`ar`.`partner_id` AS `partner_id`,
	`ar`.`base_currency_id` AS `base_currency_id`,
	`ar`.`document_currency_id` AS `document_currency_id`,
	`ar`.`conversion_rate` AS `conversion_rate`,
	`ar`.`cheque_date` AS `cheque_date`,
	`ar`.`cheque_no` AS `cheque_no`,
	`ar`.`remarks` AS `remarks`,
	`ar`.`amount` AS `amount`,
	`ar`.`base_amount` AS `base_amount`,
	`ar`.`is_post` AS `is_post`,
	`ar`.`post_date` AS `post_date`,
	`ar`.`posted_by_id` AS `posted_by_id`,
	`ar`.`created_at` AS `created_at`,
	`ar`.`created_by_id` AS `created_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`gla_advance_receipt` `ar` left join `core_partner` `p` on(`p`.`partner_type_id` = `ar`.`partner_type_id` and `p`.`partner_id` = `ar`.`partner_id`));

DROP VIEW IF EXISTS `vw_gli_credit_invoice`;
CREATE VIEW `vw_gli_credit_invoice` AS 
SELECT 
	`di`.`credit_invoice_id` AS `credit_invoice_id`,
	`di`.`company_id` AS `company_id`,
	`di`.`company_branch_id` AS `company_branch_id`,
	`di`.`fiscal_year_id` AS `fiscal_year_id`,
	`di`.`document_type_id` AS `document_type_id`,
	`di`.`document_prefix` AS `document_prefix`,
	`di`.`document_no` AS `document_no`,
	`di`.`document_identity` AS `document_identity`,
	`di`.`document_date` AS `document_date`,
	`di`.`manual_ref_no` AS `manual_ref_no`,
	`di`.`partner_type_id` AS `partner_type_id`,
	`di`.`partner_id` AS `partner_id`,
	`di`.`remarks` AS `remarks`,
	`di`.`document_currency_id` AS `document_currency_id`,
	`di`.`discount` AS `discount`,
	`di`.`net_amount` AS `net_amount`,
	`di`.`base_currency_id` AS `base_currency_id`,
	`di`.`conversion_rate` AS `conversion_rate`,
	`di`.`base_amount` AS `base_amount`,
	`di`.`is_post` AS `is_post`,
	`di`.`post_date` AS `post_date`,
	`di`.`post_by_id` AS `post_by_id`,
	`di`.`created_at` AS `created_at`,
	`di`.`created_by_id` AS `created_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`gli_credit_invoice` `di` left join `core_partner` `p` on(`p`.`company_id` = `di`.`company_id` and `p`.`partner_type_id` = `di`.`partner_type_id` and `p`.`partner_id` = `di`.`partner_id`));

DROP VIEW IF EXISTS `vw_gli_credit_invoice_detail`;
CREATE VIEW `vw_gli_credit_invoice_detail` AS 
SELECT 
	`did`.`company_id` AS `company_id`,
	`did`.`company_branch_id` AS `company_branch_id`,
	`did`.`fiscal_year_id` AS `fiscal_year_id`,
	`did`.`credit_invoice_id` AS `credit_invoice_id`,
	`did`.`credit_invoice_detail_id` AS `credit_invoice_detail_id`,
	`did`.`partner_type_id` AS `partner_type_id`,
	`did`.`partner_id` AS `partner_id`,
	`did`.`sort_order` AS `sort_order`,
	`did`.`coa_id` AS `coa_id`,
	`did`.`remarks` AS `remarks`,
	`did`.`amount` AS `amount`,
	`did`.`base_currency_id` AS `base_currency_id`,
	`did`.`conversion_rate` AS `conversion_rate`,
	`did`.`base_amount` AS `base_amount`,
	`did`.`created_at` AS `created_at`,
	`did`.`created_by_id` AS `created_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name`,
	`l3`.`level3_display_name` AS `account` 
FROM 
	((`gli_credit_invoice_detail` `did` left join `core_partner` `p` on(`p`.`company_id` = `did`.`company_id` and `p`.`partner_type_id` = `did`.`partner_type_id` and `p`.`partner_id` = `did`.`partner_id`)) left join `vw_gl0_coa_level3` `l3` on(`l3`.`coa_level3_id` = `did`.`coa_id`));

DROP VIEW IF EXISTS `vw_gli_debit_invoice`;
CREATE VIEW `vw_gli_debit_invoice` AS 
SELECT 
	`di`.`debit_invoice_id` AS `debit_invoice_id`,
	`di`.`company_id` AS `company_id`,
	`di`.`company_branch_id` AS `company_branch_id`,
	`di`.`fiscal_year_id` AS `fiscal_year_id`,
	`di`.`document_type_id` AS `document_type_id`,
	`di`.`document_prefix` AS `document_prefix`,
	`di`.`document_no` AS `document_no`,
	`di`.`document_identity` AS `document_identity`,
	`di`.`document_date` AS `document_date`,
	`di`.`sale_tax_invoice` AS `sale_tax_invoice`,
	`di`.`manual_ref_no` AS `manual_ref_no`,
	`di`.`partner_type_id` AS `partner_type_id`,
	`di`.`partner_id` AS `partner_id`,
	`di`.`remarks` AS `remarks`,
	`di`.`document_currency_id` AS `document_currency_id`,
	`di`.`total_amount` AS `total_amount`,
	`di`.`tax_account_id` AS `tax_account_id`,
	`di`.`tax_percent` AS `tax_percent`,
	`di`.`tax_amount` AS `tax_amount`,
	`di`.`discount` AS `discount`,
	`di`.`net_amount` AS `net_amount`,
	`di`.`base_currency_id` AS `base_currency_id`,
	`di`.`conversion_rate` AS `conversion_rate`,
	`di`.`base_amount` AS `base_amount`,
	`di`.`is_post` AS `is_post`,
	`di`.`post_date` AS `post_date`,
	`di`.`post_by_id` AS `post_by_id`,
	`di`.`created_at` AS `created_at`,
	`di`.`created_by_id` AS `created_by_id`,
	`di`.`modified_at` AS `modified_at`,
	`di`.`modified_by_id` AS `modified_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`gli_debit_invoice` `di` left join `core_partner` `p` on(`p`.`company_id` = `di`.`company_id` and `p`.`partner_type_id` = `di`.`partner_type_id` and `p`.`partner_id` = `di`.`partner_id`));

DROP VIEW IF EXISTS `vw_gli_debit_invoice_detail`;
CREATE VIEW `vw_gli_debit_invoice_detail` AS 
SELECT 
	`did`.`company_id` AS `company_id`,
	`did`.`company_branch_id` AS `company_branch_id`,
	`did`.`fiscal_year_id` AS `fiscal_year_id`,
	`did`.`debit_invoice_id` AS `debit_invoice_id`,
	`did`.`debit_invoice_detail_id` AS `debit_invoice_detail_id`,
	`did`.`partner_type_id` AS `partner_type_id`,
	`did`.`partner_id` AS `partner_id`,
	`did`.`sort_order` AS `sort_order`,
	`did`.`coa_id` AS `coa_id`,
	`did`.`remarks` AS `remarks`,
	`did`.`quantity` AS `quantity`,
	`did`.`rate` AS `rate`,
	`did`.`amount` AS `amount`,
	`did`.`base_currency_id` AS `base_currency_id`,
	`did`.`conversion_rate` AS `conversion_rate`,
	`did`.`base_amount` AS `base_amount`,
	`did`.`created_at` AS `created_at`,
	`did`.`created_by_id` AS `created_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name`,
	`l3`.`level3_display_name` AS `account` 
FROM 
	((`gli_debit_invoice_detail` `did` left join `core_partner` `p` on(`p`.`company_id` = `did`.`company_id` and `p`.`partner_type_id` = `did`.`partner_type_id` and `p`.`partner_id` = `did`.`partner_id`)) left join `vw_gl0_coa_level3` `l3` on(`l3`.`coa_level3_id` = `did`.`coa_id`));

DROP VIEW IF EXISTS `vw_glt_bank_payment`;
CREATE VIEW `vw_glt_bank_payment` AS 
SELECT 
	`bp`.`bank_payment_id` AS `bank_payment_id`,
	`bp`.`company_id` AS `company_id`,
	`bp`.`company_branch_id` AS `company_branch_id`,
	`bp`.`fiscal_year_id` AS `fiscal_year_id`,
	`bp`.`document_type_id` AS `document_type_id`,
	`bp`.`document_prefix` AS `document_prefix`,
	`bp`.`document_no` AS `document_no`,
	`bp`.`document_date` AS `document_date`,
	`bp`.`document_identity` AS `document_identity`,
	`bp`.`manual_ref_no` AS `manual_ref_no`,
	`bp`.`transaction_account_id` AS `transaction_account_id`,
	`bp`.`partner_type_id` AS `partner_type_id`,
	`bp`.`partner_id` AS `partner_id`,
	`bp`.`remarks` AS `remarks`,
	`bp`.`document_currency_id` AS `document_currency_id`,
	`bp`.`total_amount` AS `total_amount`,
	`bp`.`total_wht_amount` AS `total_wht_amount`,
	`bp`.`total_other_tax_amount` AS `total_other_tax_amount`,
	`bp`.`total_net_amount` AS `total_net_amount`,
	`bp`.`conversion_rate` AS `conversion_rate`,
	`bp`.`base_total_amount` AS `base_total_amount`,
	`bp`.`base_total_wht_amount` AS `base_total_wht_amount`,
	`bp`.`base_total_other_tax_amount` AS `base_total_other_tax_amount`,
	`bp`.`base_total_net_amount` AS `base_total_net_amount`,
	`bp`.`is_post` AS `is_post`,
	`bp`.`post_date` AS `post_date`,
	`bp`.`post_by_id` AS `post_by_id`,
	`bp`.`created_at` AS `created_at`,
	`bp`.`created_by_id` AS `created_by_id`,
	`bp`.`modified_at` AS `modified_at`,
	`bp`.`modified_by_id` AS `modified_by_id`,
	`bp`.`project_id` AS `project_id`,
	`pr`.`name` AS `project_name`,
	`bp`.`sub_project_id` AS `sub_project_id`,
	`sp`.`name` AS `sub_project_name`,
	`bp`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(((`glt_bank_payment` `bp` left join `core_partner` `p` on(`p`.`partner_type_id` = `bp`.`partner_type_id` and `p`.`partner_id` = `bp`.`partner_id`)) left join `project` `pr` on(`pr`.`project_id` = `bp`.`project_id`)) left join `sub_project` `sp` on(`sp`.`project_id` = `bp`.`project_id` and `sp`.`sub_project_id` = `bp`.`sub_project_id`));

DROP VIEW IF EXISTS `vw_glt_bank_payment_detail`;
CREATE VIEW `vw_glt_bank_payment_detail` AS 
SELECT 
	`bpd`.`bank_payment_detail_id` AS `bank_payment_detail_id`,
	`bpd`.`company_id` AS `company_id`,
	`bpd`.`company_branch_id` AS `company_branch_id`,
	`bpd`.`fiscal_year_id` AS `fiscal_year_id`,
	`bpd`.`bank_payment_id` AS `bank_payment_id`,
	`bpd`.`sort_order` AS `sort_order`,
	`bpd`.`ref_document_type_id` AS `ref_document_type_id`,
	`bpd`.`ref_document_identity` AS `ref_document_identity`,
	`bpd`.`coa_id` AS `coa_id`,
	`bpd`.`remarks` AS `remarks`,
	`bpd`.`cheque_date` AS `cheque_date`,
	`bpd`.`cheque_no` AS `cheque_no`,
	`bpd`.`document_amount` AS `document_amount`,
	`bpd`.`amount` AS `amount`,
	`bpd`.`wht_percent` AS `wht_percent`,
	`bpd`.`wht_amount` AS `wht_amount`,
	`bpd`.`other_tax_percent` AS `other_tax_percent`,
	`bpd`.`other_tax_amount` AS `other_tax_amount`,
	`bpd`.`net_amount` AS `net_amount`,
	`bpd`.`base_currency_id` AS `base_currency_id`,
	`bpd`.`conversion_rate` AS `conversion_rate`,
	`bpd`.`base_amount` AS `base_amount`,
	`bpd`.`base_wht_amount` AS `base_wht_amount`,
	`bpd`.`base_other_tax_amount` AS `base_other_tax_amount`,
	`bpd`.`base_net_amount` AS `base_net_amount`,
	`bpd`.`created_at` AS `created_at`,
	`bpd`.`created_by_id` AS `created_by_id`,
	`bp`.`document_type_id` AS `document_type_id`,
	`bp`.`document_identity` AS `document_identity`,
	`bp`.`document_date` AS `document_date`,
	`bp`.`is_post` AS `is_post`,
	`bp`.`partner_type_id` AS `partner_type_id`,
	`bp`.`partner_id` AS `partner_id` 
FROM 
	(`glt_bank_payment_detail` `bpd` join `glt_bank_payment` `bp` on(`bp`.`bank_payment_id` = `bpd`.`bank_payment_id`));

DROP VIEW IF EXISTS `vw_glt_bank_receipt`;
CREATE VIEW `vw_glt_bank_receipt` AS 
SELECT 
	`br`.`bank_receipt_id` AS `bank_receipt_id`,
	`br`.`company_id` AS `company_id`,
	`br`.`company_branch_id` AS `company_branch_id`,
	`br`.`fiscal_year_id` AS `fiscal_year_id`,
	`br`.`document_type_id` AS `document_type_id`,
	`br`.`document_prefix` AS `document_prefix`,
	`br`.`document_no` AS `document_no`,
	`br`.`document_date` AS `document_date`,
	`br`.`document_identity` AS `document_identity`,
	`br`.`manual_ref_no` AS `manual_ref_no`,
	`br`.`transaction_account_id` AS `transaction_account_id`,
	`br`.`partner_type_id` AS `partner_type_id`,
	`br`.`partner_id` AS `partner_id`,
	`br`.`remarks` AS `remarks`,
	`br`.`document_currency_id` AS `document_currency_id`,
	`br`.`total_amount` AS `total_amount`,
	`br`.`wht_tax_per` AS `wht_tax_per`,
	`br`.`total_wht_amount` AS `total_wht_amount`,
	`br`.`ot_tax_per` AS `ot_tax_per`,
	`br`.`total_other_tax_amount` AS `total_other_tax_amount`,
	`br`.`total_net_amount` AS `total_net_amount`,
	`br`.`conversion_rate` AS `conversion_rate`,
	`br`.`base_total_amount` AS `base_total_amount`,
	`br`.`base_total_wht_amount` AS `base_total_wht_amount`,
	`br`.`base_total_other_tax_amount` AS `base_total_other_tax_amount`,
	`br`.`base_total_net_amount` AS `base_total_net_amount`,
	`br`.`is_post` AS `is_post`,
	`br`.`post_date` AS `post_date`,
	`br`.`post_by_id` AS `post_by_id`,
	`br`.`created_at` AS `created_at`,
	`br`.`created_by_id` AS `created_by_id`,
	`br`.`modified_at` AS `modified_at`,
	`br`.`modified_by_id` AS `modified_by_id`,
	`br`.`partner_category_id` AS `partner_category_id`,
	`br`.`project_id` AS `project_id`,
	`pr`.`name` AS `project_name`,
	`br`.`sub_project_id` AS `sub_project_id`,
	`sp`.`name` AS `sub_project_name`,
	`br`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(((`glt_bank_receipt` `br` left join `core_partner` `p` on(`p`.`partner_type_id` = `br`.`partner_type_id` and `p`.`partner_id` = `br`.`partner_id`)) left join `project` `pr` on(`pr`.`project_id` = `br`.`project_id`)) left join `sub_project` `sp` on(`sp`.`project_id` = `br`.`project_id` and `sp`.`sub_project_id` = `br`.`sub_project_id`));

DROP VIEW IF EXISTS `vw_glt_bank_receipt_detail`;
CREATE VIEW `vw_glt_bank_receipt_detail` AS 
SELECT 
	`brd`.`bank_receipt_detail_id` AS `bank_receipt_detail_id`,
	`brd`.`company_id` AS `company_id`,
	`brd`.`company_branch_id` AS `company_branch_id`,
	`brd`.`fiscal_year_id` AS `fiscal_year_id`,
	`brd`.`bank_receipt_id` AS `bank_receipt_id`,
	`brd`.`sort_order` AS `sort_order`,
	`brd`.`ref_document_type_id` AS `ref_document_type_id`,
	`brd`.`document_currency_id` AS `document_currency_id`,
	`brd`.`ref_document_identity` AS `ref_document_identity`,
	`brd`.`coa_id` AS `coa_id`,
	`brd`.`remarks` AS `remarks`,
	`brd`.`cheque_date` AS `cheque_date`,
	`brd`.`cheque_no` AS `cheque_no`,
	`brd`.`document_amount` AS `document_amount`,
	`brd`.`balance_amount` AS `balance_amount`,
	`brd`.`amount` AS `amount`,
	`brd`.`bank_amount` AS `bank_amount`,
	`brd`.`wht_percent` AS `wht_percent`,
	`brd`.`wht_amount` AS `wht_amount`,
	`brd`.`other_tax_percent` AS `other_tax_percent`,
	`brd`.`other_tax_amount` AS `other_tax_amount`,
	`brd`.`net_amount` AS `net_amount`,
	`brd`.`base_currency_id` AS `base_currency_id`,
	`brd`.`conversion_rate` AS `conversion_rate`,
	`brd`.`base_amount` AS `base_amount`,
	`brd`.`base_wht_amount` AS `base_wht_amount`,
	`brd`.`base_other_tax_amount` AS `base_other_tax_amount`,
	`brd`.`base_net_amount` AS `base_net_amount`,
	`brd`.`created_at` AS `created_at`,
	`brd`.`created_by_id` AS `created_by_id`,
	`brd`.`bank_name` AS `bank_name`,
	`br`.`document_type_id` AS `document_type_id`,
	`br`.`document_identity` AS `document_identity`,
	`br`.`document_date` AS `document_date`,
	`br`.`is_post` AS `is_post`,
	`br`.`partner_type_id` AS `partner_type_id`,
	`br`.`partner_id` AS `partner_id` 
FROM 
	(`glt_bank_receipt_detail` `brd` join `glt_bank_receipt` `br` on(`br`.`bank_receipt_id` = `brd`.`bank_receipt_id`));

DROP VIEW IF EXISTS `vw_glt_cash_payment`;
CREATE VIEW `vw_glt_cash_payment` AS 
SELECT 
	`cp`.`cash_payment_id` AS `cash_payment_id`,
	`cp`.`company_id` AS `company_id`,
	`cp`.`company_branch_id` AS `company_branch_id`,
	`cp`.`fiscal_year_id` AS `fiscal_year_id`,
	`cp`.`document_type_id` AS `document_type_id`,
	`cp`.`document_prefix` AS `document_prefix`,
	`cp`.`document_no` AS `document_no`,
	`cp`.`document_date` AS `document_date`,
	`cp`.`document_identity` AS `document_identity`,
	`cp`.`manual_ref_no` AS `manual_ref_no`,
	`cp`.`transaction_account_id` AS `transaction_account_id`,
	`cp`.`partner_type_id` AS `partner_type_id`,
	`cp`.`partner_id` AS `partner_id`,
	`cp`.`remarks` AS `remarks`,
	`cp`.`document_currency_id` AS `document_currency_id`,
	`cp`.`total_amount` AS `total_amount`,
	`cp`.`total_wht_amount` AS `total_wht_amount`,
	`cp`.`total_other_tax_amount` AS `total_other_tax_amount`,
	`cp`.`total_net_amount` AS `total_net_amount`,
	`cp`.`base_currency_id` AS `base_currency_id`,
	`cp`.`conversion_rate` AS `conversion_rate`,
	`cp`.`base_total_amount` AS `base_total_amount`,
	`cp`.`base_total_wht_amount` AS `base_total_wht_amount`,
	`cp`.`base_total_other_tax_amount` AS `base_total_other_tax_amount`,
	`cp`.`base_total_net_amount` AS `base_total_net_amount`,
	`cp`.`is_post` AS `is_post`,
	`cp`.`post_date` AS `post_date`,
	`cp`.`post_by_id` AS `post_by_id`,
	`cp`.`created_at` AS `created_at`,
	`cp`.`created_by_id` AS `created_by_id`,
	`cp`.`modified_at` AS `modified_at`,
	`cp`.`modified_by_id` AS `modified_by_id`,
	`cp`.`project_id` AS `project_id`,
	`pr`.`name` AS `project_name`,
	`cp`.`sub_project_id` AS `sub_project_id`,
	`sp`.`name` AS `sub_project_name`,
	`cp`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(((`glt_cash_payment` `cp` left join `core_partner` `p` on(`p`.`partner_type_id` = `cp`.`partner_type_id` and `p`.`partner_id` = `cp`.`partner_id`)) left join `project` `pr` on(`pr`.`project_id` = `cp`.`project_id`)) left join `sub_project` `sp` on(`sp`.`project_id` = `cp`.`project_id` and `sp`.`sub_project_id` = `cp`.`sub_project_id`));

DROP VIEW IF EXISTS `vw_glt_cash_payment_detail`;
CREATE VIEW `vw_glt_cash_payment_detail` AS 
SELECT 
	`cpd`.`cash_payment_detail_id` AS `cash_payment_detail_id`,
	`cpd`.`company_id` AS `company_id`,
	`cpd`.`company_branch_id` AS `company_branch_id`,
	`cpd`.`fiscal_year_id` AS `fiscal_year_id`,
	`cpd`.`cash_payment_id` AS `cash_payment_id`,
	`cpd`.`sort_order` AS `sort_order`,
	`cpd`.`ref_document_type_id` AS `ref_document_type_id`,
	`cpd`.`ref_document_identity` AS `ref_document_identity`,
	`cpd`.`coa_id` AS `coa_id`,
	`cpd`.`remarks` AS `remarks`,
	`cpd`.`cheque_date` AS `cheque_date`,
	`cpd`.`cheque_no` AS `cheque_no`,
	`cpd`.`document_amount` AS `document_amount`,
	`cpd`.`document_currency_id` AS `document_currency_id`,
	`cpd`.`amount` AS `amount`,
	`cpd`.`wht_percent` AS `wht_percent`,
	`cpd`.`wht_amount` AS `wht_amount`,
	`cpd`.`other_tax_percent` AS `other_tax_percent`,
	`cpd`.`other_tax_amount` AS `other_tax_amount`,
	`cpd`.`net_amount` AS `net_amount`,
	`cpd`.`base_currency_id` AS `base_currency_id`,
	`cpd`.`conversion_rate` AS `conversion_rate`,
	`cpd`.`base_amount` AS `base_amount`,
	`cpd`.`base_wht_amount` AS `base_wht_amount`,
	`cpd`.`base_other_tax_amount` AS `base_other_tax_amount`,
	`cpd`.`base_net_amount` AS `base_net_amount`,
	`cpd`.`created_at` AS `created_at`,
	`cpd`.`created_by_id` AS `created_by_id`,
	`cp`.`document_type_id` AS `document_type_id`,
	`cp`.`document_identity` AS `document_identity`,
	`cp`.`document_date` AS `document_date`,
	`cp`.`is_post` AS `is_post`,
	`cp`.`partner_type_id` AS `partner_type_id`,
	`cp`.`partner_id` AS `partner_id` 
FROM 
	(`glt_cash_payment_detail` `cpd` join `glt_cash_payment` `cp` on(`cp`.`cash_payment_id` = `cpd`.`cash_payment_id`));

DROP VIEW IF EXISTS `vw_glt_cash_receipt`;
CREATE VIEW `vw_glt_cash_receipt` AS 
SELECT 
	`cr`.`cash_receipt_id` AS `cash_receipt_id`,
	`cr`.`company_id` AS `company_id`,
	`cr`.`company_branch_id` AS `company_branch_id`,
	`cr`.`fiscal_year_id` AS `fiscal_year_id`,
	`cr`.`document_type_id` AS `document_type_id`,
	`cr`.`document_prefix` AS `document_prefix`,
	`cr`.`document_no` AS `document_no`,
	`cr`.`document_date` AS `document_date`,
	`cr`.`document_identity` AS `document_identity`,
	`cr`.`manual_ref_no` AS `manual_ref_no`,
	`cr`.`transaction_account_id` AS `transaction_account_id`,
	`cr`.`partner_type_id` AS `partner_type_id`,
	`cr`.`partner_id` AS `partner_id`,
	`cr`.`remarks` AS `remarks`,
	`cr`.`document_currency_id` AS `document_currency_id`,
	`cr`.`total_amount` AS `total_amount`,
	`cr`.`total_wht_amount` AS `total_wht_amount`,
	`cr`.`total_other_tax_amount` AS `total_other_tax_amount`,
	`cr`.`total_net_amount` AS `total_net_amount`,
	`cr`.`conversion_rate` AS `conversion_rate`,
	`cr`.`base_total_amount` AS `base_total_amount`,
	`cr`.`base_total_wht_amount` AS `base_total_wht_amount`,
	`cr`.`base_total_other_tax_amount` AS `base_total_other_tax_amount`,
	`cr`.`base_total_net_amount` AS `base_total_net_amount`,
	`cr`.`is_post` AS `is_post`,
	`cr`.`post_date` AS `post_date`,
	`cr`.`post_by_id` AS `post_by_id`,
	`cr`.`created_at` AS `created_at`,
	`cr`.`created_by_id` AS `created_by_id`,
	`cr`.`modified_at` AS `modified_at`,
	`cr`.`modified_by_id` AS `modified_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`glt_cash_receipt` `cr` left join `core_partner` `p` on(`p`.`partner_type_id` = `cr`.`partner_type_id` and `p`.`partner_id` = `cr`.`partner_id`));

DROP VIEW IF EXISTS `vw_glt_cash_receipt_detail`;
CREATE VIEW `vw_glt_cash_receipt_detail` AS 
SELECT 
	`crd`.`cash_receipt_detail_id` AS `cash_receipt_detail_id`,
	`crd`.`company_id` AS `company_id`,
	`crd`.`company_branch_id` AS `company_branch_id`,
	`crd`.`fiscal_year_id` AS `fiscal_year_id`,
	`crd`.`cash_receipt_id` AS `cash_receipt_id`,
	`crd`.`sort_order` AS `sort_order`,
	`crd`.`ref_document_type_id` AS `ref_document_type_id`,
	`crd`.`ref_document_identity` AS `ref_document_identity`,
	`crd`.`coa_id` AS `coa_id`,
	`crd`.`remarks` AS `remarks`,
	`crd`.`cheque_date` AS `cheque_date`,
	`crd`.`cheque_no` AS `cheque_no`,
	`crd`.`document_amount` AS `document_amount`,
	`crd`.`document_currency_id` AS `document_currency_id`,
	`crd`.`amount` AS `amount`,
	`crd`.`wht_percent` AS `wht_percent`,
	`crd`.`wht_amount` AS `wht_amount`,
	`crd`.`other_tax_percent` AS `other_tax_percent`,
	`crd`.`other_tax_amount` AS `other_tax_amount`,
	`crd`.`net_amount` AS `net_amount`,
	`crd`.`base_currency_id` AS `base_currency_id`,
	`crd`.`conversion_rate` AS `conversion_rate`,
	`crd`.`base_amount` AS `base_amount`,
	`crd`.`base_wht_amount` AS `base_wht_amount`,
	`crd`.`base_other_tax_amount` AS `base_other_tax_amount`,
	`crd`.`base_net_amount` AS `base_net_amount`,
	`crd`.`created_at` AS `created_at`,
	`crd`.`created_by_id` AS `created_by_id`,
	`cr`.`document_type_id` AS `document_type_id`,
	`cr`.`document_identity` AS `document_identity`,
	`cr`.`document_date` AS `document_date`,
	`cr`.`is_post` AS `is_post`,
	`cr`.`partner_type_id` AS `partner_type_id`,
	`cr`.`partner_id` AS `partner_id` 
FROM 
	(`glt_cash_receipt_detail` `crd` join `glt_cash_receipt` `cr` on(`cr`.`cash_receipt_id` = `crd`.`cash_receipt_id`));

DROP VIEW IF EXISTS `vw_glt_fund_transfer`;
CREATE VIEW `vw_glt_fund_transfer` AS 
SELECT 
	`ft`.`fund_transfer_id` AS `fund_transfer_id`,
	`ft`.`company_id` AS `company_id`,
	`ft`.`company_branch_id` AS `company_branch_id`,
	`ft`.`fiscal_year_id` AS `fiscal_year_id`,
	`ft`.`document_type_id` AS `document_type_id`,
	`ft`.`document_prefix` AS `document_prefix`,
	`ft`.`document_no` AS `document_no`,
	`ft`.`document_date` AS `document_date`,
	`ft`.`document_identity` AS `document_identity`,
	`ft`.`manual_ref_no` AS `manual_ref_no`,
	`ft`.`transaction_account_id` AS `transaction_account_id`,
	`ft`.`partner_type_id` AS `partner_type_id`,
	`ft`.`partner_id` AS `partner_id`,
	`ft`.`remarks` AS `remarks`,
	`ft`.`document_currency_id` AS `document_currency_id`,
	`ft`.`total_amount` AS `total_amount`,
	`ft`.`total_wht_amount` AS `total_wht_amount`,
	`ft`.`total_other_tax_amount` AS `total_other_tax_amount`,
	`ft`.`total_net_amount` AS `total_net_amount`,
	`ft`.`base_currency_id` AS `base_currency_id`,
	`ft`.`conversion_rate` AS `conversion_rate`,
	`ft`.`base_total_amount` AS `base_total_amount`,
	`ft`.`base_total_wht_amount` AS `base_total_wht_amount`,
	`ft`.`base_total_other_tax_amount` AS `base_total_other_tax_amount`,
	`ft`.`base_total_net_amount` AS `base_total_net_amount`,
	`ft`.`is_post` AS `is_post`,
	`ft`.`post_date` AS `post_date`,
	`ft`.`post_by_id` AS `post_by_id`,
	`ft`.`created_at` AS `created_at`,
	`ft`.`created_by_id` AS `created_by_id`,
	`ft`.`modified_at` AS `modified_at`,
	`ft`.`modified_by_id` AS `modified_by_id`,
	`ft`.`project_id` AS `project_id`,
	`pr`.`name` AS `project_name`,
	`ft`.`sub_project_id` AS `sub_project_id`,
	`sp`.`name` AS `sub_project_name`,
	`ft`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name`,
	`ft`.`instrument_date` AS `instrument_date`,
	`ft`.`instrument_no` AS `instrument_no` 
FROM 
	(((`glt_fund_transfer` `ft` left join `core_partner` `p` on(`p`.`partner_type_id` = `ft`.`partner_type_id` and `p`.`partner_id` = `ft`.`partner_id`)) left join `project` `pr` on(`pr`.`project_id` = `ft`.`project_id`)) left join `sub_project` `sp` on(`sp`.`project_id` = `ft`.`project_id` and `sp`.`sub_project_id` = `ft`.`sub_project_id`));

DROP VIEW IF EXISTS `vw_glt_fund_transfer_detail`;
CREATE VIEW `vw_glt_fund_transfer_detail` AS 
SELECT 
	`ftd`.`fund_transfer_detail_id` AS `fund_transfer_detail_id`,
	`ftd`.`company_id` AS `company_id`,
	`ftd`.`company_branch_id` AS `company_branch_id`,
	`ftd`.`fiscal_year_id` AS `fiscal_year_id`,
	`ftd`.`fund_transfer_id` AS `fund_transfer_id`,
	`ftd`.`sort_order` AS `sort_order`,
	`ftd`.`ref_document_type_id` AS `ref_document_type_id`,
	`ftd`.`ref_document_identity` AS `ref_document_identity`,
	`ftd`.`coa_id` AS `coa_id`,
	`ftd`.`remarks` AS `remarks`,
	`ftd`.`cheque_date` AS `cheque_date`,
	`ftd`.`cheque_no` AS `cheque_no`,
	`ftd`.`document_amount` AS `document_amount`,
	`ftd`.`document_currency_id` AS `document_currency_id`,
	`ftd`.`amount` AS `amount`,
	`ftd`.`wht_percent` AS `wht_percent`,
	`ftd`.`wht_amount` AS `wht_amount`,
	`ftd`.`other_tax_percent` AS `other_tax_percent`,
	`ftd`.`other_tax_amount` AS `other_tax_amount`,
	`ftd`.`net_amount` AS `net_amount`,
	`ftd`.`base_currency_id` AS `base_currency_id`,
	`ftd`.`conversion_rate` AS `conversion_rate`,
	`ftd`.`base_amount` AS `base_amount`,
	`ftd`.`base_wht_amount` AS `base_wht_amount`,
	`ftd`.`base_other_tax_amount` AS `base_other_tax_amount`,
	`ftd`.`base_net_amount` AS `base_net_amount`,
	`ftd`.`created_at` AS `created_at`,
	`ftd`.`created_by_id` AS `created_by_id`,
	`ft`.`document_type_id` AS `document_type_id`,
	`ft`.`document_identity` AS `document_identity`,
	`ft`.`document_date` AS `document_date`,
	`ft`.`is_post` AS `is_post`,
	`ft`.`partner_type_id` AS `partner_type_id`,
	`ft`.`partner_id` AS `partner_id` 
FROM 
	(`glt_fund_transfer_detail` `ftd` join `glt_fund_transfer` `ft` on(`ft`.`fund_transfer_id` = `ftd`.`fund_transfer_id`));

DROP VIEW IF EXISTS `vw_glt_journal_voucher_detail`;
CREATE VIEW `vw_glt_journal_voucher_detail` AS 
SELECT 
	`jvd`.`journal_voucher_detail_id` AS `journal_voucher_detail_id`,
	`jvd`.`company_id` AS `company_id`,
	`jvd`.`company_branch_id` AS `company_branch_id`,
	`jvd`.`fiscal_year_id` AS `fiscal_year_id`,
	`jvd`.`journal_voucher_id` AS `journal_voucher_id`,
	`jvd`.`sort_order` AS `sort_order`,
	`jvd`.`partner_type_id` AS `partner_type_id`,
	`jvd`.`partner_id` AS `partner_id`,
	`jvd`.`ref_document_type_id` AS `ref_document_type_id`,
	`jvd`.`ref_document_identity` AS `ref_document_identity`,
	`jvd`.`coa_id` AS `coa_id`,
	`jvd`.`remarks` AS `remarks`,
	`jvd`.`cheque_date` AS `cheque_date`,
	`jvd`.`cheque_no` AS `cheque_no`,
	`jvd`.`document_currency_id` AS `document_currency_id`,
	`jvd`.`document_debit` AS `document_debit`,
	`jvd`.`document_credit` AS `document_credit`,
	`jvd`.`base_currency_id` AS `base_currency_id`,
	`jvd`.`conversion_rate` AS `conversion_rate`,
	`jvd`.`base_debit` AS `base_debit`,
	`jvd`.`base_credit` AS `base_credit`,
	`jvd`.`created_at` AS `created_at`,
	`jvd`.`created_by_id` AS `created_by_id`,
	`jvd`.`project_id` AS `project_id`,
	`pr`.`name` AS `project_name`,
	`jvd`.`sub_project_id` AS `sub_project_id`,
	`sp`.`name` AS `sub_project_name`,
	`jvd`.`job_cart_id` AS `job_cart_id`,
	`jv`.`document_type_id` AS `document_type_id`,
	`jv`.`document_identity` AS `document_identity`,
	`jv`.`document_date` AS `document_date`,
	`jv`.`is_post` AS `is_post`,
	`l3a`.`level3_display_name` AS `account`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(((((`glt_journal_voucher_detail` `jvd` join `glt_journal_voucher` `jv` on(`jv`.`journal_voucher_id` = `jvd`.`journal_voucher_id`)) left join `vw_gl0_coa_level3` `l3a` on(`l3a`.`company_id` = `jvd`.`company_id` and `l3a`.`coa_level3_id` = `jvd`.`coa_id`)) left join `vw_core_partner` `p` on(`p`.`company_id` = `jvd`.`company_id` and `p`.`partner_id` = `jvd`.`partner_id`)) left join `project` `pr` on(`pr`.`project_id` = `jvd`.`project_id`)) left join `sub_project` `sp` on(`sp`.`project_id` = `jvd`.`project_id` and `sp`.`sub_project_id` = `jvd`.`sub_project_id`));

DROP VIEW IF EXISTS `vw_glt_opening_account`;
CREATE VIEW `vw_glt_opening_account` AS 
SELECT 
	`oc`.`opening_account_id` AS `opening_account_id`,
	`oc`.`company_id` AS `company_id`,
	`oc`.`company_branch_id` AS `company_branch_id`,
	`oc`.`fiscal_year_id` AS `fiscal_year_id`,
	`oc`.`document_type_id` AS `document_type_id`,
	`oc`.`document_prefix` AS `document_prefix`,
	`oc`.`document_no` AS `document_no`,
	`oc`.`document_identity` AS `document_identity`,
	`oc`.`document_date` AS `document_date`,
	`oc`.`partner_type_id` AS `partner_type_id`,
	`oc`.`partner_id` AS `partner_id`,
	`oc`.`document_currency_id` AS `document_currency_id`,
	`oc`.`document_debit` AS `document_debit`,
	`oc`.`document_credit` AS `document_credit`,
	`oc`.`base_currency_id` AS `base_currency_id`,
	`oc`.`conversion_rate` AS `conversion_rate`,
	`oc`.`remarks` AS `remarks`,
	`oc`.`base_debit` AS `base_debit`,
	`oc`.`base_credit` AS `base_credit`,
	`oc`.`is_post` AS `is_post`,
	`oc`.`post_date` AS `post_date`,
	`oc`.`post_by_id` AS `post_by_id`,
	`oc`.`created_at` AS `created_at`,
	`oc`.`created_by_id` AS `created_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`glt_opening_account` `oc` left join `core_partner` `p` on(`p`.`partner_type_id` = `oc`.`partner_type_id` and `p`.`partner_id` = `oc`.`partner_id`));

DROP VIEW IF EXISTS `vw_glt_opening_account_detail`;
CREATE VIEW `vw_glt_opening_account_detail` AS 
SELECT 
	`oad`.`opening_account_detail_id` AS `opening_account_detail_id`,
	`oad`.`company_id` AS `company_id`,
	`oad`.`company_branch_id` AS `company_branch_id`,
	`oad`.`fiscal_year_id` AS `fiscal_year_id`,
	`oad`.`opening_account_id` AS `opening_account_id`,
	`oad`.`sort_order` AS `sort_order`,
	`oad`.`partner_type_id` AS `partner_type_id`,
	`oad`.`partner_id` AS `partner_id`,
	`oad`.`ref_document_type_id` AS `ref_document_type_id`,
	`oad`.`ref_document_identity` AS `ref_document_identity`,
	`oad`.`ref_document_date` AS `ref_document_date`,
	`oad`.`ref_document_amount` AS `ref_document_amount`,
	`oad`.`coa_level3_id` AS `coa_level3_id`,
	`oad`.`document_currency_id` AS `document_currency_id`,
	`oad`.`document_debit` AS `document_debit`,
	`oad`.`document_credit` AS `document_credit`,
	`oad`.`base_currency_id` AS `base_currency_id`,
	`oad`.`conversion_rate` AS `conversion_rate`,
	`oad`.`base_debit` AS `base_debit`,
	`oad`.`base_credit` AS `base_credit`,
	`oad`.`created_at` AS `created_at`,
	`oad`.`created_by_id` AS `created_by_id`,
	`oad`.`challan_no` AS `challan_no`,
	`oad`.`order_no` AS `order_no`,
	`oa`.`document_type_id` AS `document_type_id`,
	`oa`.`document_identity` AS `document_identity`,
	`oa`.`document_date` AS `document_date`,
	`oa`.`is_post` AS `is_post`,
	`l3a`.`level3_display_name` AS `account` 
FROM 
	((`glt_opening_account_detail` `oad` join `glt_opening_account` `oa` on(`oa`.`opening_account_id` = `oad`.`opening_account_id`)) left join `vw_gl0_coa_level3` `l3a` on(`l3a`.`company_id` = `oad`.`company_id` and `l3a`.`coa_level3_id` = `oad`.`coa_level3_id`));

DROP VIEW IF EXISTS `vw_glt_payments`;
CREATE VIEW `vw_glt_payments` AS 
SELECT 
	`py`.`payment_id` AS `payment_id`,
	`py`.`company_id` AS `company_id`,
	`py`.`company_branch_id` AS `company_branch_id`,
	`py`.`fiscal_year_id` AS `fiscal_year_id`,
	`py`.`document_type_id` AS `document_type_id`,
	`py`.`document_prefix` AS `document_prefix`,
	`py`.`document_no` AS `document_no`,
	`py`.`document_date` AS `document_date`,
	`py`.`document_identity` AS `document_identity`,
	`py`.`manual_ref_no` AS `manual_ref_no`,
	`py`.`transaction_account_id` AS `transaction_account_id`,
	`py`.`partner_type_id` AS `partner_type_id`,
	`py`.`partner_id` AS `partner_id`,
	`py`.`remarks` AS `remarks`,
	`py`.`document_currency_id` AS `document_currency_id`,
	`py`.`total_amount` AS `total_amount`,
	`py`.`total_wht_amount` AS `total_wht_amount`,
	`py`.`total_other_tax_amount` AS `total_other_tax_amount`,
	`py`.`total_net_amount` AS `total_net_amount`,
	`py`.`conversion_rate` AS `conversion_rate`,
	`py`.`base_total_amount` AS `base_total_amount`,
	`py`.`base_total_wht_amount` AS `base_total_wht_amount`,
	`py`.`base_total_other_tax_amount` AS `base_total_other_tax_amount`,
	`py`.`base_total_net_amount` AS `base_total_net_amount`,
	`py`.`is_post` AS `is_post`,
	`py`.`post_date` AS `post_date`,
	`py`.`post_by_id` AS `post_by_id`,
	`py`.`created_at` AS `created_at`,
	`py`.`created_by_id` AS `created_by_id`,
	`py`.`modified_at` AS `modified_at`,
	`py`.`modified_by_id` AS `modified_by_id`,
	`py`.`project_id` AS `project_id`,
	`pr`.`name` AS `project_name`,
	`py`.`sub_project_id` AS `sub_project_id`,
	`sp`.`name` AS `sub_project_name`,
	`py`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(((`glt_payments` `py` left join `core_partner` `p` on(`p`.`partner_type_id` = `py`.`partner_type_id` and `p`.`partner_id` = `py`.`partner_id`)) left join `project` `pr` on(`pr`.`project_id` = `py`.`project_id`)) left join `sub_project` `sp` on(`sp`.`project_id` = `py`.`project_id` and `sp`.`sub_project_id` = `py`.`sub_project_id`));

DROP VIEW IF EXISTS `vw_glt_payments_detail`;
CREATE VIEW `vw_glt_payments_detail` AS 
SELECT 
	`pyd`.`payment_detail_id` AS `payment_detail_id`,
	`pyd`.`company_id` AS `company_id`,
	`pyd`.`company_branch_id` AS `company_branch_id`,
	`pyd`.`fiscal_year_id` AS `fiscal_year_id`,
	`pyd`.`payment_id` AS `payment_id`,
	`pyd`.`sort_order` AS `sort_order`,
	`pyd`.`ref_document_type_id` AS `ref_document_type_id`,
	`pyd`.`ref_document_identity` AS `ref_document_identity`,
	`pyd`.`coa_id` AS `coa_id`,
	`pyd`.`remarks` AS `remarks`,
	`pyd`.`cheque_date` AS `cheque_date`,
	`pyd`.`cheque_no` AS `cheque_no`,
	`pyd`.`document_amount` AS `document_amount`,
	`pyd`.`amount` AS `amount`,
	`pyd`.`wht_percent` AS `wht_percent`,
	`pyd`.`wht_amount` AS `wht_amount`,
	`pyd`.`other_tax_percent` AS `other_tax_percent`,
	`pyd`.`other_tax_amount` AS `other_tax_amount`,
	`pyd`.`net_amount` AS `net_amount`,
	`pyd`.`base_currency_id` AS `base_currency_id`,
	`pyd`.`conversion_rate` AS `conversion_rate`,
	`pyd`.`base_amount` AS `base_amount`,
	`pyd`.`base_wht_amount` AS `base_wht_amount`,
	`pyd`.`base_other_tax_amount` AS `base_other_tax_amount`,
	`pyd`.`base_net_amount` AS `base_net_amount`,
	`pyd`.`created_at` AS `created_at`,
	`pyd`.`created_by_id` AS `created_by_id`,
	`py`.`document_type_id` AS `document_type_id`,
	`py`.`document_identity` AS `document_identity`,
	`py`.`document_date` AS `document_date`,
	`py`.`is_post` AS `is_post`,
	`py`.`partner_type_id` AS `partner_type_id`,
	`py`.`partner_id` AS `partner_id` 
FROM 
	(`glt_payments_detail` `pyd` join `glt_payments` `py` on(`py`.`payment_id` = `pyd`.`payment_id`));

DROP VIEW IF EXISTS `vw_glt_receipts`;
CREATE VIEW `vw_glt_receipts` AS 
SELECT 
	`r`.`receipt_id` AS `receipt_id`,
	`r`.`company_id` AS `company_id`,
	`r`.`company_branch_id` AS `company_branch_id`,
	`r`.`fiscal_year_id` AS `fiscal_year_id`,
	`r`.`document_type_id` AS `document_type_id`,
	`r`.`document_prefix` AS `document_prefix`,
	`r`.`document_no` AS `document_no`,
	`r`.`document_date` AS `document_date`,
	`r`.`document_identity` AS `document_identity`,
	`r`.`manual_ref_no` AS `manual_ref_no`,
	`r`.`transaction_account_id` AS `transaction_account_id`,
	`r`.`partner_type_id` AS `partner_type_id`,
	`r`.`partner_id` AS `partner_id`,
	`r`.`remarks` AS `remarks`,
	`r`.`document_currency_id` AS `document_currency_id`,
	`r`.`total_amount` AS `total_amount`,
	`r`.`wht_tax_per` AS `wht_tax_per`,
	`r`.`total_wht_amount` AS `total_wht_amount`,
	`r`.`ot_tax_per` AS `ot_tax_per`,
	`r`.`total_other_tax_amount` AS `total_other_tax_amount`,
	`r`.`total_other_deduction_amount` AS `total_other_deduction_amount`,
	`r`.`total_net_amount` AS `total_net_amount`,
	`r`.`conversion_rate` AS `conversion_rate`,
	`r`.`base_total_amount` AS `base_total_amount`,
	`r`.`base_total_wht_amount` AS `base_total_wht_amount`,
	`r`.`base_total_other_tax_amount` AS `base_total_other_tax_amount`,
	`r`.`base_total_net_amount` AS `base_total_net_amount`,
	`r`.`is_post` AS `is_post`,
	`r`.`post_date` AS `post_date`,
	`r`.`post_by_id` AS `post_by_id`,
	`r`.`created_at` AS `created_at`,
	`r`.`created_by_id` AS `created_by_id`,
	`r`.`modified_at` AS `modified_at`,
	`r`.`modified_by_id` AS `modified_by_id`,
	`r`.`partner_category_id` AS `partner_category_id`,
	`r`.`project_id` AS `project_id`,
	`pr`.`name` AS `project_name`,
	`r`.`sub_project_id` AS `sub_project_id`,
	`sp`.`name` AS `sub_project_name`,
	`r`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(((`glt_receipts` `r` left join `core_partner` `p` on(`p`.`partner_type_id` = `r`.`partner_type_id` and `p`.`partner_id` = `r`.`partner_id`)) left join `project` `pr` on(`pr`.`project_id` = `r`.`project_id`)) left join `sub_project` `sp` on(`sp`.`project_id` = `r`.`project_id` and `sp`.`sub_project_id` = `r`.`sub_project_id`));

DROP VIEW IF EXISTS `vw_glt_receipts_detail`;
CREATE VIEW `vw_glt_receipts_detail` AS 
SELECT 
	`rd`.`receipt_detail_id` AS `receipt_detail_id`,
	`rd`.`company_id` AS `company_id`,
	`rd`.`company_branch_id` AS `company_branch_id`,
	`rd`.`fiscal_year_id` AS `fiscal_year_id`,
	`rd`.`receipt_id` AS `receipt_id`,
	`rd`.`sort_order` AS `sort_order`,
	`rd`.`ref_document_type_id` AS `ref_document_type_id`,
	`rd`.`document_currency_id` AS `document_currency_id`,
	`rd`.`ref_document_identity` AS `ref_document_identity`,
	`rd`.`coa_id` AS `coa_id`,
	`rd`.`remarks` AS `remarks`,
	`rd`.`cheque_date` AS `cheque_date`,
	`rd`.`cheque_no` AS `cheque_no`,
	`rd`.`document_amount` AS `document_amount`,
	`rd`.`balance_amount` AS `balance_amount`,
	`rd`.`amount` AS `amount`,
	`rd`.`bank_amount` AS `bank_amount`,
	`rd`.`wht_percent` AS `wht_percent`,
	`rd`.`wht_amount` AS `wht_amount`,
	`rd`.`other_tax_percent` AS `other_tax_percent`,
	`rd`.`other_tax_amount` AS `other_tax_amount`,
	`rd`.`other_deduction_amount` AS `other_deduction_amount`,
	`rd`.`net_amount` AS `net_amount`,
	`rd`.`base_currency_id` AS `base_currency_id`,
	`rd`.`conversion_rate` AS `conversion_rate`,
	`rd`.`base_amount` AS `base_amount`,
	`rd`.`base_wht_amount` AS `base_wht_amount`,
	`rd`.`base_other_tax_amount` AS `base_other_tax_amount`,
	`rd`.`base_other_deduction_amount` AS `base_other_deduction_amount`,
	`rd`.`base_net_amount` AS `base_net_amount`,
	`rd`.`created_at` AS `created_at`,
	`rd`.`created_by_id` AS `created_by_id`,
	`rd`.`bank_name` AS `bank_name`,
	`r`.`document_type_id` AS `document_type_id`,
	`r`.`document_identity` AS `document_identity`,
	`r`.`document_date` AS `document_date`,
	`r`.`is_post` AS `is_post`,
	`r`.`partner_type_id` AS `partner_type_id`,
	`r`.`partner_id` AS `partner_id` 
FROM 
	(`glt_receipts_detail` `rd` join `glt_receipts` `r` on(`r`.`receipt_id` = `rd`.`receipt_id`));

DROP VIEW IF EXISTS `vw_in0_customer_unit`;
CREATE VIEW `vw_in0_customer_unit` AS 
SELECT 
	`cu`.`customer_unit_id` AS `customer_unit_id`,
	`cu`.`partner_type_id` AS `partner_type_id`,
	`cu`.`partner_id` AS `partner_id`,
	`cu`.`customer_unit` AS `customer_unit`,
	`cu`.`company_id` AS `company_id`,
	`cu`.`company_branch_id` AS `company_branch_id`,
	`cu`.`fiscal_year_id` AS `fiscal_year_id`,
	`cu`.`created_at` AS `created_at`,
	`cu`.`created_by_id` AS `created_by_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`in0_customer_unit` `cu` left join `core_partner` `p` on(`p`.`company_id` = `cu`.`company_id` and `p`.`company_branch_id` = `cu`.`company_branch_id` and `p`.`partner_type_id` = `cu`.`partner_type_id` and `p`.`partner_id` = `cu`.`partner_id`));

DROP VIEW IF EXISTS `vw_in0_product`;
CREATE VIEW `vw_in0_product` AS 
SELECT 
	`p`.`company_id` AS `company_id`,
	`p`.`product_id` AS `product_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`p`.`product_sub_category_id` AS `product_sub_category_id`,
	`p`.`product_code` AS `product_code`,
	`p`.`name` AS `name`,
	`p`.`product_image` AS `product_image`,
	`p`.`unit_id` AS `unit_id`,
	`p`.`manufacture_id` AS `manufacture_id`,
	`p`.`brand_id` AS `brand_id`,
	`p`.`make_id` AS `make_id`,
	`p`.`model_id` AS `model_id`,
	`p`.`description` AS `description`,
	`p`.`reorder_quantity` AS `reorder_quantity`,
	`p`.`cost_price` AS `cost_price`,
	`p`.`sale_price` AS `sale_price`,
	`p`.`cogs_account_id` AS `cogs_account_id`,
	`p`.`inventory_account_id` AS `inventory_account_id`,
	`p`.`revenue_account_id` AS `revenue_account_id`,
	`p`.`adjustment_account_id` AS `adjustment_account_id`,
	`p`.`sale_profit` AS `sale_profit`,
	`p`.`status` AS `status`,
	`p`.`created_at` AS `created_at`,
	`p`.`created_by_id` AS `created_by_id`,
	`p`.`ref_id` AS `ref_id`,
	`p`.`wholesale_price` AS `wholesale_price`,
	`p`.`minimum_price` AS `minimum_price`,
	`pc`.`name` AS `product_category`,
	`psc`.`name` AS `product_sub_category`,
	`u`.`name` AS `unit`,
	`b`.`name` AS `brand`,
	`mk`.`name` AS `make`,
	`md`.`name` AS `model` 
FROM 
	((((((`in0_product` `p` left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_product_sub_category` `psc` on(`pc`.`company_id` = `p`.`company_id` and `psc`.`product_sub_category_id` = `p`.`product_sub_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `p`.`company_id` and `u`.`unit_id` = `p`.`unit_id`)) left join `in0_brand` `b` on(`b`.`company_id` = `p`.`company_id` and `b`.`brand_id` = `p`.`brand_id`)) left join `in0_make` `mk` on(`mk`.`company_id` = `p`.`company_id` and `mk`.`make_id` = `p`.`make_id`)) left join `in0_model` `md` on(`md`.`company_id` = `p`.`company_id` and `md`.`model_id` = `p`.`model_id`));

DROP VIEW IF EXISTS `vw_ina_opening_stock`;
CREATE VIEW `vw_ina_opening_stock` AS 
SELECT 
	`os`.`opening_stock_id` AS `opening_stock_id`,
	`os`.`company_id` AS `company_id`,
	`os`.`company_branch_id` AS `company_branch_id`,
	`os`.`fiscal_year_id` AS `fiscal_year_id`,
	`os`.`document_type_id` AS `document_type_id`,
	`os`.`document_prefix` AS `document_prefix`,
	`os`.`document_no` AS `document_no`,
	`os`.`document_identity` AS `document_identity`,
	`os`.`document_date` AS `document_date`,
	`os`.`warehouse_id` AS `warehouse_id`,
	`os`.`remarks` AS `remarks`,
	`os`.`document_currency_id` AS `document_currency_id`,
	`os`.`net_amount` AS `net_amount`,
	`os`.`base_currency_id` AS `base_currency_id`,
	`os`.`conversion_rate` AS `conversion_rate`,
	`os`.`base_amount` AS `base_amount`,
	`os`.`is_post` AS `is_post`,
	`os`.`post_date` AS `post_date`,
	`os`.`post_by_id` AS `post_by_id`,
	`os`.`created_at` AS `created_at`,
	`os`.`created_by_id` AS `created_by_id`,
	`w`.`name` AS `warehouse` 
FROM 
	(`ina_opening_stock` `os` left join `in0_warehouse` `w` on(`w`.`company_id` = `os`.`company_id` and `w`.`company_branch_id` = `os`.`company_branch_id` and `w`.`warehouse_id` = `os`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ina_opening_stock_detail`;
CREATE VIEW `vw_ina_opening_stock_detail` AS 
SELECT 
	`os`.`company_id` AS `company_id`,
	`os`.`company_branch_id` AS `company_branch_id`,
	`os`.`fiscal_year_id` AS `fiscal_year_id`,
	`os`.`opening_stock_id` AS `opening_stock_id`,
	`os`.`document_type_id` AS `document_type_id`,
	`os`.`document_prefix` AS `document_prefix`,
	`os`.`document_no` AS `document_no`,
	`os`.`document_identity` AS `document_identity`,
	`os`.`document_date` AS `document_date`,
	`os`.`warehouse_id` AS `warehouse_id`,
	`w`.`name` AS `warehouse`,
	`os`.`remarks` AS `remarks`,
	`osd`.`opening_stock_detail_id` AS `opening_stock_detail_id`,
	`osd`.`sort_order` AS `sort_order`,
	`osd`.`unit_id` AS `unit_id`,
	`u`.`name` AS `unit`,
	`osd`.`product_id` AS `product_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`product_code` AS `product_code`,
	`p`.`name` AS `product`,
	`p`.`product_image` AS `product_image`,
	`osd`.`document_currency_id` AS `document_currency_id`,
	`osd`.`qty` AS `qty`,
	`osd`.`rate` AS `rate`,
	`osd`.`amount` AS `amount`,
	`osd`.`base_currency_id` AS `base_currency_id`,
	`osd`.`conversion_rate` AS `conversion_rate`,
	`osd`.`base_amount` AS `base_amount`,
	`osd`.`created_at` AS `created_at` 
FROM 
	(((((`ina_opening_stock_detail` `osd` join `ina_opening_stock` `os` on(`os`.`company_id` = `osd`.`company_id` and `os`.`company_branch_id` = `osd`.`company_branch_id` and `os`.`fiscal_year_id` = `osd`.`fiscal_year_id` and `os`.`opening_stock_id` = `osd`.`opening_stock_id`)) left join `in0_warehouse` `w` on(`w`.`company_id` = `os`.`company_id` and `w`.`company_branch_id` = `os`.`company_branch_id` and `w`.`warehouse_id` = `os`.`warehouse_id`)) left join `in0_product` `p` on(`p`.`company_id` = `osd`.`company_id` and `p`.`product_id` = `osd`.`product_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `osd`.`company_id` and `u`.`unit_id` = `osd`.`unit_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`));

DROP VIEW IF EXISTS `vw_ina_stock_adjustment`;
CREATE VIEW `vw_ina_stock_adjustment` AS 
SELECT 
	`sa`.`company_id` AS `company_id`,
	`sa`.`company_branch_id` AS `company_branch_id`,
	`sa`.`fiscal_year_id` AS `fiscal_year_id`,
	`sa`.`stock_adjustment_id` AS `stock_adjustment_id`,
	`sa`.`document_type_id` AS `document_type_id`,
	`sa`.`document_prefix` AS `document_prefix`,
	`sa`.`document_no` AS `document_no`,
	`sa`.`document_identity` AS `document_identity`,
	`sa`.`document_date` AS `document_date`,
	`sa`.`warehouse_id` AS `warehouse_id`,
	`sa`.`remarks` AS `remarks`,
	`sa`.`document_currency_id` AS `document_currency_id`,
	`sa`.`total_qty` AS `total_qty`,
	`sa`.`total_amount` AS `total_amount`,
	`sa`.`conversion_rate` AS `conversion_rate`,
	`sa`.`base_currency_id` AS `base_currency_id`,
	`sa`.`base_amount` AS `base_amount`,
	`sa`.`is_post` AS `is_post`,
	`sa`.`post_date` AS `post_date`,
	`sa`.`post_by_id` AS `post_by_id`,
	`sa`.`created_at` AS `created_at`,
	`sa`.`created_by_id` AS `created_by_id`,
	`w`.`name` AS `warehouse` 
FROM 
	(`ina_stock_adjustment` `sa` left join `in0_warehouse` `w` on(`w`.`company_id` = `sa`.`company_id` and `w`.`company_branch_id` = `sa`.`company_branch_id` and `w`.`warehouse_id` = `sa`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ina_stock_adjustment_detail`;
CREATE VIEW `vw_ina_stock_adjustment_detail` AS 
SELECT 
	`sad`.`sort_order` AS `sort_order`,
	`sad`.`company_id` AS `company_id`,
	`sad`.`company_branch_id` AS `company_branch_id`,
	`sad`.`fiscal_year_id` AS `fiscal_year_id`,
	`sad`.`stock_adjustment_id` AS `stock_adjustment_id`,
	`sad`.`stock_adjustment_detail_id` AS `stock_adjustment_detail_id`,
	`sad`.`product_id` AS `product_id`,
	`sad`.`product_code` AS `product_code`,
	`sad`.`document_currency_id` AS `document_currency_id`,
	`sad`.`unit_id` AS `unit_id`,
	`sad`.`stock_qty` AS `stock_qty`,
	`sad`.`qty` AS `qty`,
	`sad`.`rate` AS `rate`,
	`sad`.`amount` AS `amount`,
	`sad`.`base_currency_id` AS `base_currency_id`,
	`sad`.`conversion_rate` AS `conversion_rate`,
	`sad`.`base_rate` AS `base_rate`,
	`sad`.`base_amount` AS `base_amount`,
	`sad`.`created_at` AS `created_at`,
	`sad`.`created_by_id` AS `created_by_id`,
	`sa`.`document_type_id` AS `document_type_id`,
	`sa`.`document_identity` AS `document_identity`,
	`sa`.`document_date` AS `document_date`,
	`sa`.`is_post` AS `is_post`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit` 
FROM 
	((((`ina_stock_adjustment_detail` `sad` join `ina_stock_adjustment` `sa` on(`sa`.`stock_adjustment_id` = `sad`.`stock_adjustment_id`)) left join `in0_product` `p` on(`p`.`company_id` = `sad`.`company_id` and `p`.`product_id` = `sad`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `sad`.`company_id` and `u`.`unit_id` = `sad`.`unit_id`));

DROP VIEW IF EXISTS `vw_ina_stock_in`;
CREATE VIEW `vw_ina_stock_in` AS 
SELECT 
	`si`.`company_id` AS `company_id`,
	`si`.`company_branch_id` AS `company_branch_id`,
	`si`.`fiscal_year_id` AS `fiscal_year_id`,
	`si`.`stock_in_id` AS `stock_in_id`,
	`si`.`document_type_id` AS `document_type_id`,
	`si`.`document_prefix` AS `document_prefix`,
	`si`.`document_no` AS `document_no`,
	`si`.`document_date` AS `document_date`,
	`si`.`document_identity` AS `document_identity`,
	`si`.`warehouse_id` AS `warehouse_id`,
	`si`.`remarks` AS `remarks`,
	`si`.`document_currency_id` AS `document_currency_id`,
	`si`.`total_qty` AS `total_qty`,
	`si`.`total_amount` AS `total_amount`,
	`si`.`base_currency_id` AS `base_currency_id`,
	`si`.`conversion_rate` AS `conversion_rate`,
	`si`.`base_amount` AS `base_amount`,
	`si`.`created_at` AS `created_at`,
	`si`.`created_by_id` AS `created_by_id`,
	`si`.`is_post` AS `is_post`,
	`si`.`post_date` AS `post_date`,
	`si`.`post_by_id` AS `post_by_id`,
	`w`.`name` AS `warehouse` 
FROM 
	(`ina_stock_in` `si` join `in0_warehouse` `w` on(`w`.`warehouse_id` = `si`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ina_stock_in_detail`;
CREATE VIEW `vw_ina_stock_in_detail` AS 
SELECT 
	`sid`.`company_id` AS `company_id`,
	`sid`.`company_branch_id` AS `company_branch_id`,
	`sid`.`fiscal_year_id` AS `fiscal_year_id`,
	`sid`.`stock_in_id` AS `stock_in_id`,
	`sid`.`stock_in_detail_id` AS `stock_in_detail_id`,
	`sid`.`sort_order` AS `sort_order`,
	`sid`.`product_id` AS `product_id`,
	`sid`.`product_code` AS `product_code`,
	`sid`.`document_currency_id` AS `document_currency_id`,
	`sid`.`unit_id` AS `unit_id`,
	`sid`.`stock_qty` AS `stock_qty`,
	`sid`.`qty` AS `qty`,
	`sid`.`cog_rate` AS `cog_rate`,
	`sid`.`cog_amount` AS `cog_amount`,
	`sid`.`base_currency_id` AS `base_currency_id`,
	`sid`.`conversion_rate` AS `conversion_rate`,
	`sid`.`base_cog_rate` AS `base_cog_rate`,
	`sid`.`base_cog_amount` AS `base_cog_amount`,
	`sid`.`created_at` AS `created_at`,
	`sid`.`created_by_id` AS `created_by_id`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit` 
FROM 
	((`ina_stock_in_detail` `sid` left join `in0_product` `p` on(`p`.`product_id` = `sid`.`product_id`)) left join `in0_unit` `u` on(`u`.`unit_id` = `sid`.`unit_id`));

DROP VIEW IF EXISTS `vw_ina_stock_out`;
CREATE VIEW `vw_ina_stock_out` AS 
SELECT 
	`so`.`company_id` AS `company_id`,
	`so`.`company_branch_id` AS `company_branch_id`,
	`so`.`fiscal_year_id` AS `fiscal_year_id`,
	`so`.`stock_out_id` AS `stock_out_id`,
	`so`.`document_type_id` AS `document_type_id`,
	`so`.`document_prefix` AS `document_prefix`,
	`so`.`document_no` AS `document_no`,
	`so`.`document_date` AS `document_date`,
	`so`.`document_identity` AS `document_identity`,
	`so`.`warehouse_id` AS `warehouse_id`,
	`so`.`remarks` AS `remarks`,
	`so`.`document_currency_id` AS `document_currency_id`,
	`so`.`total_qty` AS `total_qty`,
	`so`.`total_amount` AS `total_amount`,
	`so`.`base_currency_id` AS `base_currency_id`,
	`so`.`conversion_rate` AS `conversion_rate`,
	`so`.`base_amount` AS `base_amount`,
	`so`.`created_at` AS `created_at`,
	`so`.`created_by_id` AS `created_by_id`,
	`so`.`is_post` AS `is_post`,
	`so`.`post_date` AS `post_date`,
	`so`.`post_by_id` AS `post_by_id`,
	`w`.`name` AS `warehouse` 
FROM 
	(`ina_stock_out` `so` join `in0_warehouse` `w` on(`w`.`warehouse_id` = `so`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ina_stock_out_detail`;
CREATE VIEW `vw_ina_stock_out_detail` AS 
SELECT 
	`sod`.`company_id` AS `company_id`,
	`sod`.`company_branch_id` AS `company_branch_id`,
	`sod`.`fiscal_year_id` AS `fiscal_year_id`,
	`sod`.`stock_out_id` AS `stock_out_id`,
	`sod`.`stock_out_detail_id` AS `stock_out_detail_id`,
	`sod`.`sort_order` AS `sort_order`,
	`sod`.`product_id` AS `product_id`,
	`sod`.`product_code` AS `product_code`,
	`sod`.`document_currency_id` AS `document_currency_id`,
	`sod`.`unit_id` AS `unit_id`,
	`sod`.`stock_qty` AS `stock_qty`,
	`sod`.`qty` AS `qty`,
	`sod`.`cog_rate` AS `cog_rate`,
	`sod`.`cog_amount` AS `cog_amount`,
	`sod`.`base_currency_id` AS `base_currency_id`,
	`sod`.`conversion_rate` AS `conversion_rate`,
	`sod`.`base_cog_rate` AS `base_cog_rate`,
	`sod`.`base_cog_amount` AS `base_cog_amount`,
	`sod`.`created_at` AS `created_at`,
	`sod`.`created_by_id` AS `created_by_id`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit` 
FROM 
	((`ina_stock_out_detail` `sod` left join `in0_product` `p` on(`p`.`product_id` = `sod`.`product_id`)) left join `in0_unit` `u` on(`u`.`unit_id` = `sod`.`unit_id`));

DROP VIEW IF EXISTS `vw_ina_stock_transfer`;
CREATE VIEW `vw_ina_stock_transfer` AS 
SELECT 
	`st`.`company_id` AS `company_id`,
	`st`.`company_branch_id` AS `company_branch_id`,
	`st`.`fiscal_year_id` AS `fiscal_year_id`,
	`st`.`stock_transfer_id` AS `stock_transfer_id`,
	`st`.`document_type_id` AS `document_type_id`,
	`st`.`document_prefix` AS `document_prefix`,
	`st`.`document_no` AS `document_no`,
	`st`.`document_date` AS `document_date`,
	`st`.`document_identity` AS `document_identity`,
	`st`.`warehouse_id` AS `warehouse_id`,
	`st`.`remarks` AS `remarks`,
	`st`.`document_currency_id` AS `document_currency_id`,
	`st`.`total_qty` AS `total_qty`,
	`st`.`total_amount` AS `total_amount`,
	`st`.`base_currency_id` AS `base_currency_id`,
	`st`.`conversion_rate` AS `conversion_rate`,
	`st`.`base_amount` AS `base_amount`,
	`st`.`created_at` AS `created_at`,
	`st`.`created_by_id` AS `created_by_id`,
	`st`.`is_post` AS `is_post`,
	`st`.`post_date` AS `post_date`,
	`st`.`post_by_id` AS `post_by_id`,
	`st`.`to_branch_id` AS `to_branch_id`,
	`st`.`partner_id` AS `partner_id`,
	`st`.`partner_type_id` AS `partner_type_id`,
	`st`.`billty_date` AS `billty_date`,
	`st`.`billty_no` AS `billty_no`,
	`st`.`billty_remarks` AS `billty_remarks`,
	`w`.`name` AS `warehouse` 
FROM 
	(`ina_stock_transfer` `st` left join `in0_warehouse` `w` on(`w`.`company_id` = `st`.`company_id` and `w`.`company_branch_id` = `st`.`company_branch_id` and `w`.`warehouse_id` = `st`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ina_stock_transfer_detail`;
CREATE VIEW `vw_ina_stock_transfer_detail` AS 
SELECT 
	`std`.`company_id` AS `company_id`,
	`std`.`company_branch_id` AS `company_branch_id`,
	`std`.`fiscal_year_id` AS `fiscal_year_id`,
	`std`.`stock_transfer_id` AS `stock_transfer_id`,
	`std`.`stock_transfer_detail_id` AS `stock_transfer_detail_id`,
	`std`.`sort_order` AS `sort_order`,
	`std`.`product_id` AS `product_id`,
	`std`.`product_code` AS `product_code`,
	`std`.`to_company_branch_id` AS `to_company_branch_id`,
	`std`.`warehouse_id` AS `warehouse_id`,
	`std`.`document_currency_id` AS `document_currency_id`,
	`std`.`unit_id` AS `unit_id`,
	`std`.`stock_qty` AS `stock_qty`,
	`std`.`qty` AS `qty`,
	`std`.`cog_rate` AS `cog_rate`,
	`std`.`cog_amount` AS `cog_amount`,
	`std`.`base_currency_id` AS `base_currency_id`,
	`std`.`conversion_rate` AS `conversion_rate`,
	`std`.`base_cog_rate` AS `base_cog_rate`,
	`std`.`base_cog_amount` AS `base_cog_amount`,
	`std`.`rate` AS `rate`,
	`std`.`amount` AS `amount`,
	`std`.`created_at` AS `created_at`,
	`std`.`created_by_id` AS `created_by_id`,
	`std`.`description` AS `description`,
	`st`.`document_type_id` AS `document_type_id`,
	`st`.`document_identity` AS `document_identity`,
	`st`.`document_date` AS `document_date`,
	`st`.`is_post` AS `is_post`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse`,
	`pt`.`name` AS `partner_name`,
	`st`.`partner_id` AS `partner_id` 
FROM 
	((((((`ina_stock_transfer_detail` `std` join `ina_stock_transfer` `st` on(`st`.`stock_transfer_id` = `std`.`stock_transfer_id`)) left join `in0_product` `p` on(`p`.`company_id` = `std`.`company_id` and `p`.`product_id` = `std`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `std`.`company_id` and `u`.`unit_id` = `std`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `std`.`company_id` and `wh`.`company_branch_id` = `std`.`company_branch_id` and `wh`.`warehouse_id` = `std`.`warehouse_id`)) left join `core_partner` `pt` on(`pt`.`company_id` = `st`.`company_id` and `pt`.`partner_id` = `st`.`partner_id`));

DROP VIEW IF EXISTS `vw_inp_cost_estimation`;
CREATE VIEW `vw_inp_cost_estimation` AS 
SELECT 
	`co`.`cost_estimation_id` AS `cost_estimation_id`,
	`co`.`company_id` AS `company_id`,
	`co`.`company_branch_id` AS `company_branch_id`,
	`co`.`fiscal_year_id` AS `fiscal_year_id`,
	`co`.`document_type_id` AS `document_type_id`,
	`co`.`document_prefix` AS `document_prefix`,
	`co`.`document_no` AS `document_no`,
	`co`.`document_date` AS `document_date`,
	`co`.`document_identity` AS `document_identity`,
	`co`.`file_no` AS `file_no`,
	`co`.`manual_ref_no` AS `manual_ref_no`,
	`co`.`salesman` AS `salesman`,
	`co`.`partner_id` AS `partner_id`,
	`co`.`supplier_id` AS `supplier_id`,
	`co`.`product_id` AS `product_id`,
	`co`.`qty` AS `qty`,
	`co`.`currency_id` AS `currency_id`,
	`co`.`conversion_rate` AS `conversion_rate`,
	`co`.`list_price` AS `list_price`,
	`co`.`list_price_conversion` AS `list_price_conversion`,
	`co`.`total_price` AS `total_price`,
	`co`.`total_price_conversion` AS `total_price_conversion`,
	`co`.`discount` AS `discount`,
	`co`.`ex_work_net_rate` AS `ex_work_net_rate`,
	`co`.`ex_work_net_amount` AS `ex_work_net_amount`,
	`co`.`ex_work_net_amount_conversion` AS `ex_work_net_amount_conversion`,
	`co`.`packing_handling` AS `packing_handling`,
	`co`.`packing_handling_conversion` AS `packing_handling_conversion`,
	`co`.`total_fob_price` AS `total_fob_price`,
	`co`.`total_fob_price_conversion` AS `total_fob_price_conversion`,
	`co`.`feright_charges_percent` AS `feright_charges_percent`,
	`co`.`feright_charges` AS `feright_charges`,
	`co`.`feright_charges_conversion` AS `feright_charges_conversion`,
	`co`.`total_cf_value` AS `total_cf_value`,
	`co`.`total_cf_value_conversion` AS `total_cf_value_conversion`,
	`co`.`duty_factor_on_cf_value_percent` AS `duty_factor_on_cf_value_percent`,
	`co`.`duty_factor_on_cf_value` AS `duty_factor_on_cf_value`,
	`co`.`clearing_charges_min` AS `clearing_charges_min`,
	`co`.`above_million` AS `above_million`,
	`co`.`final_applied_clearing_charges` AS `final_applied_clearing_charges`,
	`co`.`insurance_min` AS `insurance_min`,
	`co`.`above_five_lac` AS `above_five_lac`,
	`co`.`final_applied_insurance_charges` AS `final_applied_insurance_charges`,
	`co`.`add_percent_on_cf_value` AS `add_percent_on_cf_value`,
	`co`.`min_order_handling_charges` AS `min_order_handling_charges`,
	`co`.`bank_charges` AS `bank_charges`,
	`co`.`any_other_expenses` AS `any_other_expenses`,
	`co`.`total_landed_cost` AS `total_landed_cost`,
	`co`.`cost_factor` AS `cost_factor`,
	`co`.`markup_on_landed_cost_percent` AS `markup_on_landed_cost_percent`,
	`co`.`markup_on_landed_cost` AS `markup_on_landed_cost`,
	`co`.`other_selling_expense` AS `other_selling_expense`,
	`co`.`total_quote_price` AS `total_quote_price`,
	`co`.`net_price_with_gst_percent` AS `net_price_with_gst_percent`,
	`co`.`net_price_with_gst` AS `net_price_with_gst`,
	`co`.`order_below` AS `order_below`,
	`co`.`created_at` AS `created_at`,
	`co`.`created_by_id` AS `created_by_id`,
	`co`.`created_by` AS `created_by`,
	`co`.`modified_at` AS `modified_at`,
	`co`.`modified_by` AS `modified_by`,
	`co`.`modified_by_id` AS `modified_by_id`,
	`p`.`name` AS `partner`,
	`s`.`name` AS `supplier`,
	`pr`.`name` AS `product`,
	`pr`.`product_code` AS `product_code` 
FROM 
	(((`inp_cost_estimation` `co` left join `core_partner` `p` on(`p`.`partner_id` = `co`.`partner_id`)) left join `core_supplier` `s` on(`s`.`supplier_id` = `co`.`supplier_id`)) left join `in0_product` `pr` on(`pr`.`product_id` = `co`.`product_id`));

DROP VIEW IF EXISTS `vw_inp_goods_received`;
CREATE VIEW `vw_inp_goods_received` AS 
SELECT 
	`gr`.`goods_received_id` AS `goods_received_id`,
	`gr`.`company_id` AS `company_id`,
	`gr`.`company_branch_id` AS `company_branch_id`,
	`gr`.`fiscal_year_id` AS `fiscal_year_id`,
	`gr`.`document_type_id` AS `document_type_id`,
	`gr`.`document_prefix` AS `document_prefix`,
	`gr`.`document_no` AS `document_no`,
	`gr`.`document_identity` AS `document_identity`,
	`gr`.`document_date` AS `document_date`,
	`gr`.`manual_ref_no` AS `manual_ref_no`,
	`gr`.`partner_type_id` AS `partner_type_id`,
	`gr`.`partner_id` AS `partner_id`,
	`gr`.`ref_document_type_id` AS `ref_document_type_id`,
	`gr`.`ref_document_identity` AS `ref_document_identity`,
	`gr`.`remarks` AS `remarks`,
	`gr`.`document_currency_id` AS `document_currency_id`,
	`gr`.`net_amount` AS `net_amount`,
	`gr`.`base_currency_id` AS `base_currency_id`,
	`gr`.`conversion_rate` AS `conversion_rate`,
	`gr`.`base_amount` AS `base_amount`,
	`gr`.`is_post` AS `is_post`,
	`gr`.`post_date` AS `post_date`,
	`gr`.`post_by_id` AS `post_by_id`,
	`gr`.`created_at` AS `created_at`,
	`gr`.`created_by_id` AS `created_by_id`,
	`gr`.`modified_at` AS `modified_at`,
	`gr`.`modified_by_id` AS `modified_by_id`,
	`gr`.`project_id` AS `project_id`,
	`gr`.`sub_project_id` AS `sub_project_id`,
	`gr`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`inp_goods_received` `gr` left join `core_partner` `p` on(`p`.`company_id` = `gr`.`company_id` and `p`.`company_branch_id` = `gr`.`company_branch_id` and `p`.`partner_type_id` = `gr`.`partner_type_id` and `p`.`partner_id` = `gr`.`partner_id`));

DROP VIEW IF EXISTS `vw_inp_goods_received_detail`;
CREATE VIEW `vw_inp_goods_received_detail` AS 
SELECT 
	`grd`.`goods_received_detail_id` AS `goods_received_detail_id`,
	`grd`.`company_id` AS `company_id`,
	`grd`.`company_branch_id` AS `company_branch_id`,
	`grd`.`fiscal_year_id` AS `fiscal_year_id`,
	`grd`.`goods_received_id` AS `goods_received_id`,
	`grd`.`sort_order` AS `sort_order`,
	`grd`.`product_code` AS `product_code`,
	`grd`.`product_id` AS `product_id`,
	`grd`.`unit_id` AS `unit_id`,
	`grd`.`warehouse_id` AS `warehouse_id`,
	`grd`.`qty` AS `qty`,
	`grd`.`rate` AS `rate`,
	`grd`.`amount` AS `amount`,
	`grd`.`created_at` AS `created_at`,
	`grd`.`created_by_id` AS `created_by_id`,
	`grd`.`ref_document_identity` AS `ref_document_identity`,
	`gr`.`document_type_id` AS `document_type_id`,
	`gr`.`document_identity` AS `document_identity`,
	`gr`.`document_date` AS `document_date`,
	`gr`.`is_post` AS `is_post`,
	`gr`.`partner_type_id` AS `partner_type_id`,
	`gr`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse` 
FROM 
	(((((`inp_goods_received_detail` `grd` join `inp_goods_received` `gr` on(`gr`.`goods_received_id` = `grd`.`goods_received_id`)) left join `in0_product` `p` on(`p`.`company_id` = `grd`.`company_id` and `p`.`product_id` = `grd`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `grd`.`company_id` and `u`.`unit_id` = `grd`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `grd`.`company_id` and `wh`.`company_branch_id` = `grd`.`company_branch_id` and `wh`.`warehouse_id` = `grd`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_inp_purchase_invoice`;
CREATE VIEW `vw_inp_purchase_invoice` AS 
SELECT 
	`pi`.`company_id` AS `company_id`,
	`pi`.`company_branch_id` AS `company_branch_id`,
	`pi`.`fiscal_year_id` AS `fiscal_year_id`,
	`pi`.`purchase_invoice_id` AS `purchase_invoice_id`,
	`pi`.`document_type_id` AS `document_type_id`,
	`pi`.`document_prefix` AS `document_prefix`,
	`pi`.`document_no` AS `document_no`,
	`pi`.`document_identity` AS `document_identity`,
	`pi`.`document_date` AS `document_date`,
	`pi`.`batch_no` AS `batch_no`,
	`pi`.`partner_type_id` AS `partner_type_id`,
	`pi`.`partner_id` AS `partner_id`,
	`pi`.`manual_ref_no` AS `manual_ref_no`,
	`pi`.`builty_no` AS `builty_no`,
	`pi`.`remarks` AS `remarks`,
	`pi`.`remarks2` AS `remarks2`,
	`pi`.`document_currency_id` AS `document_currency_id`,
	`pi`.`item_amount` AS `item_amount`,
	`pi`.`item_discount` AS `item_discount`,
	`pi`.`item_tax` AS `item_tax`,
	`pi`.`item_other_expence` AS `item_other_expence`,
	`pi`.`item_total` AS `item_total`,
	`pi`.`discount` AS `discount`,
	`pi`.`net_amount` AS `net_amount`,
	`pi`.`cash_paid` AS `cash_paid`,
	`pi`.`balance_amount` AS `balance_amount`,
	`pi`.`base_currency_id` AS `base_currency_id`,
	`pi`.`conversion_rate` AS `conversion_rate`,
	`pi`.`base_amount` AS `base_amount`,
	`pi`.`base_cash_received` AS `base_cash_received`,
	`pi`.`base_balance_amount` AS `base_balance_amount`,
	`pi`.`is_post` AS `is_post`,
	`pi`.`post_date` AS `post_date`,
	`pi`.`post_by_id` AS `post_by_id`,
	`pi`.`created_at` AS `created_at`,
	`pi`.`created_by_id` AS `created_by_id`,
	`pi`.`modified_at` AS `modified_at`,
	`pi`.`modified_by_id` AS `modified_by_id`,
	`pi`.`project_id` AS `project_id`,
	`pi`.`sub_project_id` AS `sub_project_id`,
	`pi`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`inp_purchase_invoice` `pi` left join `core_partner` `p` on(`p`.`company_id` = `pi`.`company_id` and `p`.`company_branch_id` = `pi`.`company_branch_id` and `p`.`partner_type_id` = `pi`.`partner_type_id` and `p`.`partner_id` = `pi`.`partner_id`));

DROP VIEW IF EXISTS `vw_inp_purchase_invoice_detail`;
CREATE VIEW `vw_inp_purchase_invoice_detail` AS 
SELECT 
	`pid`.`company_id` AS `company_id`,
	`pid`.`company_branch_id` AS `company_branch_id`,
	`pid`.`fiscal_year_id` AS `fiscal_year_id`,
	`pid`.`purchase_invoice_id` AS `purchase_invoice_id`,
	`pid`.`purchase_invoice_detail_id` AS `purchase_invoice_detail_id`,
	`pid`.`sort_order` AS `sort_order`,
	`pid`.`ref_document_type_id` AS `ref_document_type_id`,
	`pid`.`ref_document_identity` AS `ref_document_identity`,
	`pid`.`product_id` AS `product_id`,
	`pid`.`product_code` AS `product_code`,
	`pid`.`warehouse_id` AS `warehouse_id`,
	`pid`.`remarks` AS `remarks`,
	`pid`.`document_currency_id` AS `document_currency_id`,
	`pid`.`unit_id` AS `unit_id`,
	`pid`.`qty` AS `qty`,
	`pid`.`rate` AS `rate`,
	`pid`.`amount` AS `amount`,
	`pid`.`discount_percent` AS `discount_percent`,
	`pid`.`discount_amount` AS `discount_amount`,
	`pid`.`gross_amount` AS `gross_amount`,
	`pid`.`other_expence` AS `other_expence`,
	`pid`.`tax_percent` AS `tax_percent`,
	`pid`.`tax_amount` AS `tax_amount`,
	`pid`.`total_amount` AS `total_amount`,
	`pid`.`base_currency_id` AS `base_currency_id`,
	`pid`.`conversion_rate` AS `conversion_rate`,
	`pid`.`base_total` AS `base_total`,
	`pid`.`created_at` AS `created_at`,
	`pid`.`created_by_id` AS `created_by_id`,
	`pi`.`document_type_id` AS `document_type_id`,
	`pi`.`document_identity` AS `document_identity`,
	`pi`.`document_date` AS `document_date`,
	`pi`.`is_post` AS `is_post`,
	`pi`.`partner_type_id` AS `partner_type_id`,
	`pi`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse` 
FROM 
	(((((`inp_purchase_invoice_detail` `pid` join `inp_purchase_invoice` `pi` on(`pi`.`purchase_invoice_id` = `pid`.`purchase_invoice_id`)) left join `in0_product` `p` on(`p`.`company_id` = `pid`.`company_id` and `p`.`product_id` = `pid`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `pid`.`company_id` and `u`.`unit_id` = `pid`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `pid`.`company_id` and `wh`.`company_branch_id` = `pid`.`company_branch_id` and `wh`.`warehouse_id` = `pid`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_inp_purchase_order`;
CREATE VIEW `vw_inp_purchase_order` AS 
SELECT 
	`po`.`purchase_order_id` AS `purchase_order_id`,
	`po`.`fiscal_year_id` AS `fiscal_year_id`,
	`po`.`company_id` AS `company_id`,
	`po`.`company_branch_id` AS `company_branch_id`,
	`po`.`document_type_id` AS `document_type_id`,
	`po`.`document_prefix` AS `document_prefix`,
	`po`.`document_no` AS `document_no`,
	`po`.`document_date` AS `document_date`,
	`po`.`document_identity` AS `document_identity`,
	`po`.`batch_no` AS `batch_no`,
	`po`.`partner_type_id` AS `partner_type_id`,
	`po`.`partner_id` AS `partner_id`,
	`po`.`ref_document_type_id` AS `ref_document_type_id`,
	`po`.`ref_document_identity` AS `ref_document_identity`,
	`po`.`remarks` AS `remarks`,
	`po`.`manual_ref_no` AS `manual_ref_no`,
	`po`.`terms` AS `terms`,
	`po`.`document_currency_id` AS `document_currency_id`,
	`po`.`base_currency_id` AS `base_currency_id`,
	`po`.`conversion_rate` AS `conversion_rate`,
	`po`.`total_amount` AS `total_amount`,
	`po`.`discount` AS `discount`,
	`po`.`net_amount` AS `net_amount`,
	`po`.`base_amount` AS `base_amount`,
	`po`.`created_at` AS `created_at`,
	`po`.`created_by_id` AS `created_by_id`,
	`po`.`is_post` AS `is_post`,
	`po`.`post_date` AS `post_date`,
	`po`.`post_by_id` AS `post_by_id`,
	`po`.`project_id` AS `project_id`,
	`po`.`sub_project_id` AS `sub_project_id`,
	`po`.`job_cart_id` AS `job_cart_id`,
	`po`.`invoice_type` AS `invoice_type`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`inp_purchase_order` `po` left join `core_partner` `p` on(`p`.`company_id` = `po`.`company_id` and `p`.`company_branch_id` = `po`.`company_branch_id` and `p`.`partner_type_id` = `po`.`partner_type_id` and `p`.`partner_id` = `po`.`partner_id`));

DROP VIEW IF EXISTS `vw_inp_purchase_order_detail`;
CREATE VIEW `vw_inp_purchase_order_detail` AS 
SELECT 
	`pod`.`company_id` AS `company_id`,
	`pod`.`company_branch_id` AS `company_branch_id`,
	`pod`.`fiscal_year_id` AS `fiscal_year_id`,
	`pod`.`purchase_order_id` AS `purchase_order_id`,
	`pod`.`purchase_order_detail_id` AS `purchase_order_detail_id`,
	`pod`.`ref_document_type_id` AS `ref_document_type_id`,
	`pod`.`ref_document_identity` AS `ref_document_identity`,
	`pod`.`sort_order` AS `sort_order`,
	`pod`.`product_id` AS `product_id`,
	`pod`.`product_code` AS `product_code`,
	`pod`.`product_service` AS `product_service`,
	`pod`.`expiry_date` AS `expiry_date`,
	`pod`.`document_currency_id` AS `document_currency_id`,
	`pod`.`unit_id` AS `unit_id`,
	`pod`.`qty` AS `qty`,
	`pod`.`conversion_rate` AS `conversion_rate`,
	`pod`.`base_amount` AS `base_amount`,
	`pod`.`rate` AS `rate`,
	`pod`.`amount` AS `amount`,
	`pod`.`base_currency_id` AS `base_currency_id`,
	`pod`.`created_at` AS `created_at`,
	`pod`.`created_by_id` AS `created_by_id`,
	`po`.`document_type_id` AS `document_type_id`,
	`po`.`document_identity` AS `document_identity`,
	`po`.`document_date` AS `document_date`,
	`po`.`is_post` AS `is_post`,
	`po`.`partner_type_id` AS `partner_type_id`,
	`po`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit` 
FROM 
	((((`inp_purchase_order_detail` `pod` join `inp_purchase_order` `po` on(`po`.`purchase_order_id` = `pod`.`purchase_order_id`)) left join `in0_product` `p` on(`p`.`company_id` = `pod`.`company_id` and `p`.`product_id` = `pod`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `pod`.`company_id` and `u`.`unit_id` = `pod`.`unit_id`));

DROP VIEW IF EXISTS `vw_inp_purchase_return`;
CREATE VIEW `vw_inp_purchase_return` AS 
SELECT 
	`pr`.`company_id` AS `company_id`,
	`pr`.`company_branch_id` AS `company_branch_id`,
	`pr`.`fiscal_year_id` AS `fiscal_year_id`,
	`pr`.`purchase_return_id` AS `purchase_return_id`,
	`pr`.`document_type_id` AS `document_type_id`,
	`pr`.`document_prefix` AS `document_prefix`,
	`pr`.`document_no` AS `document_no`,
	`pr`.`document_date` AS `document_date`,
	`pr`.`document_identity` AS `document_identity`,
	`pr`.`partner_type_id` AS `partner_type_id`,
	`pr`.`partner_id` AS `partner_id`,
	`pr`.`ref_document_type_id` AS `ref_document_type_id`,
	`pr`.`ref_document_identity` AS `ref_document_identity`,
	`pr`.`remarks` AS `remarks`,
	`pr`.`remarks2` AS `remarks2`,
	`pr`.`document_currency_id` AS `document_currency_id`,
	`pr`.`item_amount` AS `item_amount`,
	`pr`.`item_discount` AS `item_discount`,
	`pr`.`item_tax` AS `item_tax`,
	`pr`.`item_other_expence` AS `item_other_expence`,
	`pr`.`item_total` AS `item_total`,
	`pr`.`deduction_amount` AS `deduction_amount`,
	`pr`.`net_amount` AS `net_amount`,
	`pr`.`cash_received` AS `cash_received`,
	`pr`.`balance_amount` AS `balance_amount`,
	`pr`.`base_currency_id` AS `base_currency_id`,
	`pr`.`conversion_rate` AS `conversion_rate`,
	`pr`.`base_amount` AS `base_amount`,
	`pr`.`base_cash_received` AS `base_cash_received`,
	`pr`.`base_balanace_amount` AS `base_balanace_amount`,
	`pr`.`is_post` AS `is_post`,
	`pr`.`post_date` AS `post_date`,
	`pr`.`created_at` AS `created_at`,
	`pr`.`created_by_id` AS `created_by_id`,
	`pr`.`project_id` AS `project_id`,
	`pr`.`sub_project_id` AS `sub_project_id`,
	`pr`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`inp_purchase_return` `pr` left join `core_partner` `p` on(`p`.`company_id` = `pr`.`company_id` and `p`.`company_branch_id` = `pr`.`company_branch_id` and `p`.`partner_type_id` = `pr`.`partner_type_id` and `p`.`partner_id` = `pr`.`partner_id`));

DROP VIEW IF EXISTS `vw_inp_purchase_return_detail`;
CREATE VIEW `vw_inp_purchase_return_detail` AS 
SELECT 
	`prd`.`company_id` AS `company_id`,
	`prd`.`company_branch_id` AS `company_branch_id`,
	`prd`.`fiscal_year_id` AS `fiscal_year_id`,
	`prd`.`purchase_return_id` AS `purchase_return_id`,
	`prd`.`purchase_return_detail_id` AS `purchase_return_detail_id`,
	`prd`.`sort_order` AS `sort_order`,
	`prd`.`ref_document_type_id` AS `ref_document_type_id`,
	`prd`.`ref_document_identity` AS `ref_document_identity`,
	`prd`.`product_id` AS `product_id`,
	`prd`.`product_code` AS `product_code`,
	`prd`.`warehouse_id` AS `warehouse_id`,
	`prd`.`document_currency_id` AS `document_currency_id`,
	`prd`.`unit_id` AS `unit_id`,
	`prd`.`qty` AS `qty`,
	`prd`.`rate` AS `rate`,
	`prd`.`amount` AS `amount`,
	`prd`.`discount_percent` AS `discount_percent`,
	`prd`.`discount_amount` AS `discount_amount`,
	`prd`.`gross_amount` AS `gross_amount`,
	`prd`.`other_expence` AS `other_expence`,
	`prd`.`tax_percent` AS `tax_percent`,
	`prd`.`tax_amount` AS `tax_amount`,
	`prd`.`total_amount` AS `total_amount`,
	`prd`.`base_currency_id` AS `base_currency_id`,
	`prd`.`conversion_rate` AS `conversion_rate`,
	`prd`.`base_total` AS `base_total`,
	`prd`.`created_at` AS `created_at`,
	`prd`.`created_by_id` AS `created_by_id`,
	`pr`.`document_type_id` AS `document_type_id`,
	`pr`.`document_identity` AS `document_identity`,
	`pr`.`document_date` AS `document_date`,
	`pr`.`is_post` AS `is_post`,
	`pr`.`partner_type_id` AS `partner_type_id`,
	`pr`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse` 
FROM 
	(((((`inp_purchase_return_detail` `prd` join `inp_purchase_return` `pr` on(`pr`.`purchase_return_id` = `prd`.`purchase_return_id`)) left join `in0_product` `p` on(`p`.`company_id` = `prd`.`company_id` and `p`.`product_id` = `prd`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `prd`.`company_id` and `u`.`unit_id` = `prd`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `prd`.`company_id` and `wh`.`company_branch_id` = `prd`.`company_branch_id` and `wh`.`warehouse_id` = `prd`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ins_delivery_challan`;
CREATE VIEW `vw_ins_delivery_challan` AS 
SELECT 
	`dc`.`delivery_challan_id` AS `delivery_challan_id`,
	`dc`.`company_id` AS `company_id`,
	`dc`.`company_branch_id` AS `company_branch_id`,
	`dc`.`fiscal_year_id` AS `fiscal_year_id`,
	`dc`.`document_type_id` AS `document_type_id`,
	`dc`.`document_prefix` AS `document_prefix`,
	`dc`.`document_no` AS `document_no`,
	`dc`.`document_identity` AS `document_identity`,
	`dc`.`document_date` AS `document_date`,
	`dc`.`manual_ref_no` AS `manual_ref_no`,
	`dc`.`partner_type_id` AS `partner_type_id`,
	`dc`.`partner_id` AS `partner_id`,
	`dc`.`ref_document_type_id` AS `ref_document_type_id`,
	`dc`.`ref_document_identity` AS `ref_document_identity`,
	`dc`.`remarks` AS `remarks`,
	`dc`.`document_currency_id` AS `document_currency_id`,
	`dc`.`total_qty` AS `total_qty`,
	`dc`.`total_amount` AS `total_amount`,
	`dc`.`base_currency_id` AS `base_currency_id`,
	`dc`.`conversion_rate` AS `conversion_rate`,
	`dc`.`base_amount` AS `base_amount`,
	`dc`.`is_post` AS `is_post`,
	`dc`.`post_date` AS `post_date`,
	`dc`.`post_by_id` AS `post_by_id`,
	`dc`.`created_at` AS `created_at`,
	`dc`.`created_by_id` AS `created_by_id`,
	`dc`.`modified_at` AS `modified_at`,
	`dc`.`modified_by_id` AS `modified_by_id`,
	`dc`.`po_no` AS `po_no`,
	`dc`.`po_date` AS `po_date`,
	`dc`.`customer_unit_id` AS `customer_unit_id`,
	`dc`.`ref_id` AS `ref_id`,
	`dc`.`challan_type` AS `challan_type`,
	`dc`.`status` AS `status`,
	`dc`.`project_id` AS `project_id`,
	`dc`.`sub_project_id` AS `sub_project_id`,
	`dc`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`ins_delivery_challan` `dc` left join `core_partner` `p` on(`p`.`company_id` = `dc`.`company_id` and `p`.`partner_type_id` = `dc`.`partner_type_id` and `p`.`partner_id` = `dc`.`partner_id`));

DROP VIEW IF EXISTS `vw_ins_delivery_challan_against_sales`;
CREATE VIEW `vw_ins_delivery_challan_against_sales` AS 
SELECT 
	`dc`.`company_id` AS `company_id`,
	`dc`.`company_branch_id` AS `company_branch_id`,
	`dc`.`fiscal_year_id` AS `fiscal_year_id`,
	`dc`.`delivery_challan_id` AS `delivery_challan_id`,
	`dc`.`document_identity` AS `document_identity`,
	`dc`.`document_date` AS `document_date`,
	`c`.`name` AS `partner_name`,
	`dc`.`challan_type` AS `challan_type`,
	`dc`.`total_qty` AS `total_qty`,
	`dc`.`created_at` AS `created_at`,
	ifnull(sum(`sid`.`qty`),
	0) AS `sale_qty`,
	ifnull(sum(`st`.`qty`),
	0) AS `sale_tax_qty`,
	case when `dc`.`challan_type` = 'GST' and `dc`.`total_qty` > ifnull(sum(`st`.`qty`),
	0) then 'Pending' when `dc`.`challan_type` = 'Non GST' and `dc`.`total_qty` > ifnull(sum(`sid`.`qty`),
	0) then 'Pending' else 'Cleared' end AS `challan_status` 
FROM 
	(((`ins_delivery_challan` `dc` join `core_partner` `c` on(`c`.`partner_id` = `dc`.`partner_id`)) left join `ins_sale_invoice_detail` `sid` on(`sid`.`ref_document_identity` = `dc`.`document_identity`)) left join `ins_sale_tax_invoice_detail` `st` on(`st`.`ref_document_identity` = `dc`.`document_identity`)) 
GROUP BY 
	`dc`.`document_identity`;

DROP VIEW IF EXISTS `vw_ins_delivery_challan_detail`;
CREATE VIEW `vw_ins_delivery_challan_detail` AS 
SELECT 
	`dcd`.`delivery_challan_detail_id` AS `delivery_challan_detail_id`,
	`dcd`.`company_id` AS `company_id`,
	`dcd`.`company_branch_id` AS `company_branch_id`,
	`dcd`.`fiscal_year_id` AS `fiscal_year_id`,
	`dcd`.`delivery_challan_id` AS `delivery_challan_id`,
	`dcd`.`product_id` AS `product_id`,
	`dcd`.`product_code` AS `product_code`,
	`dcd`.`unit_id` AS `unit_id`,
	`dcd`.`warehouse_id` AS `warehouse_id`,
	`dcd`.`stock_qty` AS `stock_qty`,
	`dcd`.`qty` AS `qty`,
	`dcd`.`document_currency_id` AS `document_currency_id`,
	`dcd`.`cog_rate` AS `cog_rate`,
	`dcd`.`cog_amount` AS `cog_amount`,
	`dcd`.`base_currency_id` AS `base_currency_id`,
	`dcd`.`conversion_rate` AS `conversion_rate`,
	`dcd`.`rate` AS `rate`,
	`dcd`.`base_cog_rate` AS `base_cog_rate`,
	`dcd`.`base_cog_amount` AS `base_cog_amount`,
	`dcd`.`tax_percent` AS `tax_percent`,
	`dcd`.`tax_amount` AS `tax_amount`,
	`dcd`.`net_amount` AS `net_amount`,
	`dcd`.`created_by_id` AS `created_by_id`,
	`dcd`.`created_at` AS `created_at`,
	`dcd`.`description` AS `description`,
	`dcd`.`unit_master` AS `unit_master`,
	`dcd`.`p_id` AS `p_id`,
	`dcd`.`sort_order` AS `sort_order`,
	`dcd`.`remarks` AS `remarks`,
	`dc`.`document_no` AS `document_no`,
	`dc`.`document_type_id` AS `document_type_id`,
	`dc`.`document_identity` AS `document_identity`,
	`dc`.`ref_document_type_id` AS `ref_document_type_id`,
	`dc`.`ref_document_identity` AS `ref_document_identity`,
	`dc`.`document_date` AS `document_date`,
	`dc`.`is_post` AS `is_post`,
	`dc`.`partner_type_id` AS `partner_type_id`,
	`dc`.`partner_id` AS `partner_id`,
	`dc`.`customer_unit_id` AS `customer_unit_id`,
	`dc`.`po_no` AS `po_no`,
	`dc`.`po_date` AS `po_date`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse`,
	`dc`.`challan_type` AS `challan_type`,
	`dc`.`status` AS `status` 
FROM 
	(((((`ins_delivery_challan_detail` `dcd` join `ins_delivery_challan` `dc` on(`dc`.`delivery_challan_id` = `dcd`.`delivery_challan_id`)) left join `in0_product` `p` on(`p`.`company_id` = `dcd`.`company_id` and `p`.`product_id` = `dcd`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `dcd`.`company_id` and `u`.`unit_id` = `dcd`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `dcd`.`company_id` and `wh`.`company_branch_id` = `dcd`.`company_branch_id` and `wh`.`warehouse_id` = `dcd`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ins_quotation`;
CREATE VIEW `vw_ins_quotation` AS 
SELECT 
	`dc`.`quotation_id` AS `quotation_id`,
	`dc`.`company_id` AS `company_id`,
	`dc`.`company_branch_id` AS `company_branch_id`,
	`dc`.`fiscal_year_id` AS `fiscal_year_id`,
	`dc`.`document_type_id` AS `document_type_id`,
	`dc`.`document_prefix` AS `document_prefix`,
	`dc`.`document_no` AS `document_no`,
	`dc`.`document_identity` AS `document_identity`,
	`dc`.`document_date` AS `document_date`,
	`dc`.`partner_type_id` AS `partner_type_id`,
	`dc`.`partner_id` AS `partner_id`,
	`dc`.`salesman_id` AS `salesman_id`,
	`dc`.`customer_ref_no` AS `customer_ref_no`,
	`dc`.`customer_date` AS `customer_date`,
	`dc`.`due_date` AS `due_date`,
	`dc`.`ref_no` AS `ref_no`,
	`dc`.`attn` AS `attn`,
	`dc`.`address` AS `address`,
	`dc`.`term_id` AS `term_id`,
	`dc`.`total_quantity` AS `total_quantity`,
	`dc`.`item_amount` AS `item_amount`,
	`dc`.`item_tax` AS `item_tax`,
	`dc`.`item_total` AS `item_total`,
	`dc`.`is_post` AS `is_post`,
	`dc`.`post_date` AS `post_date`,
	`dc`.`post_by_id` AS `post_by_id`,
	`dc`.`created_at` AS `created_at`,
	`dc`.`created_by_id` AS `created_by_id`,
	`dc`.`modified_at` AS `modified_at`,
	`dc`.`modified_by_id` AS `modified_by_id`,
	`dc`.`term_desc` AS `term_desc`,
	`dc`.`project_id` AS `project_id`,
	`dc`.`sub_project_id` AS `sub_project_id`,
	`dc`.`job_cart_id` AS `job_cart_id`,
	`dc`.`delivery` AS `delivery`,
	`dc`.`validity` AS `validity`,
	`dc`.`payment` AS `payment`,
	`dc`.`enclosure` AS `enclosure`,
	`dc`.`other` AS `other`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name`,
	`s`.`name` AS `salesman_name` 
FROM 
	((`ins_quotation` `dc` left join `core_partner` `p` on(`p`.`company_id` = `dc`.`company_id` and `p`.`company_branch_id` = `dc`.`company_branch_id` and `p`.`partner_type_id` = `dc`.`partner_type_id` and `p`.`partner_id` = `dc`.`partner_id`)) left join `core_salesman` `s` on(`s`.`company_id` = `dc`.`company_id` and `s`.`salesman_id` = `dc`.`salesman_id`));

DROP VIEW IF EXISTS `vw_ins_quotation_detail`;
CREATE VIEW `vw_ins_quotation_detail` AS 
SELECT 
	`dcd`.`quotation_detail_id` AS `quotation_detail_id`,
	`dcd`.`company_id` AS `company_id`,
	`dcd`.`company_branch_id` AS `company_branch_id`,
	`dcd`.`fiscal_year_id` AS `fiscal_year_id`,
	`dcd`.`quotation_id` AS `quotation_id`,
	`dcd`.`product_id` AS `product_id`,
	`dcd`.`product_code` AS `product_code`,
	`dcd`.`description` AS `description`,
	`dcd`.`delivery` AS `delivery`,
	`dcd`.`unit_id` AS `unit_id`,
	`dcd`.`warehouse_id` AS `warehouse_id`,
	`dcd`.`qty` AS `qty`,
	`dcd`.`rate` AS `rate`,
	`dcd`.`amount` AS `amount`,
	`dcd`.`tax_percent` AS `tax_percent`,
	`dcd`.`tax_amount` AS `tax_amount`,
	`dcd`.`net_amount` AS `net_amount`,
	`dcd`.`created_by_id` AS `created_by_id`,
	`dcd`.`created_at` AS `created_at`,
	`dcd`.`sort_order` AS `sort_order`,
	`dc`.`document_type_id` AS `document_type_id`,
	`dc`.`document_identity` AS `document_identity`,
	`dc`.`document_date` AS `document_date`,
	`dc`.`is_post` AS `is_post`,
	`dc`.`partner_type_id` AS `partner_type_id`,
	`dc`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse` 
FROM 
	(((((`ins_quotation_detail` `dcd` join `ins_quotation` `dc` on(`dc`.`quotation_id` = `dcd`.`quotation_id`)) left join `in0_product` `p` on(`p`.`company_id` = `dcd`.`company_id` and `p`.`product_id` = `dcd`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `dcd`.`company_id` and `u`.`unit_id` = `dcd`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `dcd`.`company_id` and `wh`.`company_branch_id` = `dcd`.`company_branch_id` and `wh`.`warehouse_id` = `dcd`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ins_sale_invoice`;
CREATE VIEW `vw_ins_sale_invoice` AS 
SELECT 
	`si`.`company_id` AS `company_id`,
	`si`.`company_branch_id` AS `company_branch_id`,
	`si`.`fiscal_year_id` AS `fiscal_year_id`,
	`si`.`sale_invoice_id` AS `sale_invoice_id`,
	`si`.`document_type_id` AS `document_type_id`,
	`si`.`document_prefix` AS `document_prefix`,
	`si`.`document_no` AS `document_no`,
	`si`.`document_date` AS `document_date`,
	`si`.`document_identity` AS `document_identity`,
	`si`.`partner_type_id` AS `partner_type_id`,
	`si`.`partner_id` AS `partner_id`,
	`si`.`ref_invoice_no` AS `ref_invoice_no`,
	`si`.`billty_date` AS `billty_date`,
	`si`.`billty_no` AS `billty_no`,
	`si`.`manual_ref_no` AS `manual_ref_no`,
	`si`.`remarks` AS `remarks`,
	`si`.`remarks2` AS `remarks2`,
	`si`.`document_currency_id` AS `document_currency_id`,
	`si`.`item_amount` AS `item_amount`,
	`si`.`item_discount` AS `item_discount`,
	`si`.`item_tax` AS `item_tax`,
	`si`.`item_other_expence` AS `item_other_expence`,
	`si`.`item_total` AS `item_total`,
	`si`.`cartage` AS `cartage`,
	`si`.`discount` AS `discount`,
	`si`.`net_amount` AS `net_amount`,
	`si`.`cash_received` AS `cash_received`,
	`si`.`balance_amount` AS `balance_amount`,
	`si`.`base_currency_id` AS `base_currency_id`,
	`si`.`conversion_rate` AS `conversion_rate`,
	`si`.`base_net_amount` AS `base_net_amount`,
	`si`.`is_post` AS `is_post`,
	`si`.`post_date` AS `post_date`,
	`si`.`post_by_id` AS `post_by_id`,
	`si`.`created_at` AS `created_at`,
	`si`.`created_by_id` AS `created_by_id`,
	`si`.`po_date` AS `po_date`,
	`si`.`po_no` AS `po_no`,
	`si`.`dc_no` AS `dc_no`,
	`si`.`ref_document_id` AS `ref_document_id`,
	`si`.`customer_unit_id` AS `customer_unit_id`,
	`si`.`billty_remarks` AS `billty_remarks`,
	`si`.`customer_remarks` AS `customer_remarks`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`ins_sale_invoice` `si` left join `core_partner` `p` on(`p`.`company_id` = `si`.`company_id` and `p`.`partner_type_id` = `si`.`partner_type_id` and `p`.`partner_id` = `si`.`partner_id`));

DROP VIEW IF EXISTS `vw_ins_sale_invoice_detail`;
CREATE VIEW `vw_ins_sale_invoice_detail` AS 
SELECT 
	`sid`.`company_id` AS `company_id`,
	`sid`.`company_branch_id` AS `company_branch_id`,
	`sid`.`fiscal_year_id` AS `fiscal_year_id`,
	`sid`.`sale_invoice_id` AS `sale_invoice_id`,
	`sid`.`sale_invoice_detail_id` AS `sale_invoice_detail_id`,
	`sid`.`sort_order` AS `sort_order`,
	`sid`.`batch_no` AS `batch_no`,
	`sid`.`warehouse_id` AS `warehouse_id`,
	`sid`.`product_id` AS `product_id`,
	`sid`.`product_code` AS `product_code`,
	`sid`.`ref_document_type_id` AS `ref_document_type_id`,
	`sid`.`ref_document_identity` AS `ref_document_identity`,
	`sid`.`description` AS `description`,
	`sid`.`expiry_date` AS `expiry_date`,
	`sid`.`documrnt_curency_id` AS `documrnt_curency_id`,
	`sid`.`unit_id` AS `unit_id`,
	`sid`.`qty` AS `qty`,
	`sid`.`rate` AS `rate`,
	`sid`.`amount` AS `amount`,
	`sid`.`discount_percent` AS `discount_percent`,
	`sid`.`discount_amount` AS `discount_amount`,
	`sid`.`gross_amount` AS `gross_amount`,
	`sid`.`other_expence` AS `other_expence`,
	`sid`.`tax_percent` AS `tax_percent`,
	`sid`.`tax_amount` AS `tax_amount`,
	`sid`.`total_amount` AS `total_amount`,
	`sid`.`base_currency_id` AS `base_currency_id`,
	`sid`.`conversion_rate` AS `conversion_rate`,
	`sid`.`base_total` AS `base_total`,
	`sid`.`remarks` AS `remarks`,
	`sid`.`cog_rate` AS `cog_rate`,
	`sid`.`cog_amount` AS `cog_amount`,
	`sid`.`created_at` AS `created_at`,
	`sid`.`created_by_id` AS `created_by_id`,
	`si`.`document_type_id` AS `document_type_id`,
	`si`.`document_identity` AS `document_identity`,
	`si`.`document_date` AS `document_date`,
	`si`.`is_post` AS `is_post`,
	`si`.`partner_type_id` AS `partner_type_id`,
	`si`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse`,
	`pr`.`name` AS `partner_name` 
FROM 
	((((((`ins_sale_invoice_detail` `sid` join `ins_sale_invoice` `si` on(`si`.`sale_invoice_id` = `sid`.`sale_invoice_id`)) left join `in0_product` `p` on(`p`.`company_id` = `sid`.`company_id` and `p`.`product_id` = `sid`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `sid`.`company_id` and `u`.`unit_id` = `sid`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `sid`.`company_id` and `wh`.`company_branch_id` = `sid`.`company_branch_id` and `wh`.`warehouse_id` = `sid`.`warehouse_id`)) left join `core_partner` `pr` on(`pr`.`company_id` = `si`.`company_id` and `pr`.`partner_type_id` = `si`.`partner_type_id` and `pr`.`partner_id` = `si`.`partner_id`));

DROP VIEW IF EXISTS `vw_ins_sale_invoice_pending_status`;
CREATE VIEW `vw_ins_sale_invoice_pending_status` AS 
SELECT 
	`si`.`company_id` AS `company_id`,
	`si`.`company_branch_id` AS `company_branch_id`,
	`si`.`fiscal_year_id` AS `fiscal_year_id`,
	`si`.`sale_invoice_id` AS `sale_invoice_id`,
	`si`.`document_type_id` AS `document_type_id`,
	`si`.`document_prefix` AS `document_prefix`,
	`si`.`document_no` AS `document_no`,
	`si`.`document_date` AS `document_date`,
	`si`.`document_identity` AS `document_identity`,
	`si`.`partner_type_id` AS `partner_type_id`,
	`si`.`partner_id` AS `partner_id`,
	`si`.`ref_invoice_no` AS `ref_invoice_no`,
	`si`.`billty_date` AS `billty_date`,
	`si`.`billty_no` AS `billty_no`,
	`si`.`manual_ref_no` AS `manual_ref_no`,
	`si`.`remarks` AS `remarks`,
	`si`.`remarks2` AS `remarks2`,
	`si`.`document_currency_id` AS `document_currency_id`,
	`si`.`item_amount` AS `item_amount`,
	`si`.`item_discount` AS `item_discount`,
	`si`.`item_tax` AS `item_tax`,
	`si`.`item_other_expence` AS `item_other_expence`,
	`si`.`item_total` AS `item_total`,
	`si`.`cartage` AS `cartage`,
	`si`.`discount` AS `discount`,
	`si`.`net_amount` AS `net_amount`,
	`si`.`cash_received` AS `cash_received`,
	`si`.`balance_amount` AS `balance_amount`,
	`si`.`base_currency_id` AS `base_currency_id`,
	`si`.`conversion_rate` AS `conversion_rate`,
	`si`.`base_net_amount` AS `base_net_amount`,
	`si`.`is_post` AS `is_post`,
	`si`.`post_date` AS `post_date`,
	`si`.`post_by_id` AS `post_by_id`,
	`si`.`created_at` AS `created_at`,
	`si`.`created_by_id` AS `created_by_id`,
	`si`.`po_date` AS `po_date`,
	`si`.`po_no` AS `po_no`,
	`si`.`dc_no` AS `dc_no`,
	`si`.`ref_document_id` AS `ref_document_id`,
	`si`.`customer_unit_id` AS `customer_unit_id`,
	`si`.`billty_remarks` AS `billty_remarks`,
	`si`.`customer_remarks` AS `customer_remarks`,
	`si`.`partner_type` AS `partner_type`,
	`si`.`partner_name` AS `partner_name`,
	if(`si`.`net_amount` - ((
SELECT 
	ifnull(sum(`glt_bank_receipt_detail`.`amount`),
	0) 
FROM 
	`glt_bank_receipt_detail` 
WHERE 
	`glt_bank_receipt_detail`.`ref_document_identity` = `si`.`document_identity`) + (
SELECT 
	ifnull(sum(`glt_cash_receipt_detail`.`amount`),
	0) 
FROM 
	`glt_cash_receipt_detail` 
WHERE 
	`glt_cash_receipt_detail`.`ref_document_identity` = `si`.`document_identity`)) > 0,
	'Pending',
	'Cleared') AS `invoice_status` 
FROM 
	`vw_ins_sale_invoice` `si`;

DROP VIEW IF EXISTS `vw_ins_sale_order`;
CREATE VIEW `vw_ins_sale_order` AS 
SELECT 
	`po`.`sale_order_id` AS `sale_order_id`,
	`po`.`fiscal_year_id` AS `fiscal_year_id`,
	`po`.`company_id` AS `company_id`,
	`po`.`company_branch_id` AS `company_branch_id`,
	`po`.`document_type_id` AS `document_type_id`,
	`po`.`document_prefix` AS `document_prefix`,
	`po`.`document_no` AS `document_no`,
	`po`.`document_date` AS `document_date`,
	`po`.`document_identity` AS `document_identity`,
	`po`.`salesman_id` AS `salesman_id`,
	`po`.`partner_type_id` AS `partner_type_id`,
	`po`.`partner_id` AS `partner_id`,
	`po`.`ref_document_type_id` AS `ref_document_type_id`,
	`po`.`ref_document_identity` AS `ref_document_identity`,
	`po`.`remarks` AS `remarks`,
	`po`.`manual_ref_no` AS `manual_ref_no`,
	`po`.`terms` AS `terms`,
	`po`.`document_currency_id` AS `document_currency_id`,
	`po`.`base_currency_id` AS `base_currency_id`,
	`po`.`conversion_rate` AS `conversion_rate`,
	`po`.`total_quantity` AS `total_quantity`,
	`po`.`item_amount` AS `item_amount`,
	`po`.`item_total` AS `item_total`,
	`po`.`item_tax` AS `item_tax`,
	`po`.`base_amount` AS `base_amount`,
	`po`.`created_at` AS `created_at`,
	`po`.`created_by_id` AS `created_by_id`,
	`po`.`is_post` AS `is_post`,
	`po`.`post_date` AS `post_date`,
	`po`.`post_by_id` AS `post_by_id`,
	`po`.`po_no` AS `po_no`,
	`po`.`po_date` AS `po_date`,
	`po`.`customer_unit_id` AS `customer_unit_id`,
	`po`.`partner_category_id` AS `partner_category_id`,
	`po`.`project_id` AS `project_id`,
	`po`.`sub_project_id` AS `sub_project_id`,
	`po`.`job_cart_id` AS `job_cart_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`ins_sale_order` `po` left join `core_partner` `p` on(`p`.`company_id` = `po`.`company_id` and `p`.`company_branch_id` = `po`.`company_branch_id` and `p`.`partner_type_id` = `po`.`partner_type_id` and `p`.`partner_id` = `po`.`partner_id`));

DROP VIEW IF EXISTS `vw_ins_sale_order_detail`;
CREATE VIEW `vw_ins_sale_order_detail` AS 
SELECT 
	`sod`.`company_id` AS `company_id`,
	`sod`.`company_branch_id` AS `company_branch_id`,
	`sod`.`fiscal_year_id` AS `fiscal_year_id`,
	`sod`.`sale_order_id` AS `sale_order_id`,
	`sod`.`sale_order_detail_id` AS `sale_order_detail_id`,
	`sod`.`ref_document_type_id` AS `ref_document_type_id`,
	`sod`.`ref_document_identity` AS `ref_document_identity`,
	`sod`.`sort_order` AS `sort_order`,
	`sod`.`product_id` AS `product_id`,
	`sod`.`product_code` AS `product_code`,
	`sod`.`product_service` AS `product_service`,
	`sod`.`expiry_date` AS `expiry_date`,
	`sod`.`document_currency_id` AS `document_currency_id`,
	`sod`.`unit_id` AS `unit_id`,
	`sod`.`qty` AS `qty`,
	`sod`.`conversion_rate` AS `conversion_rate`,
	`sod`.`base_amount` AS `base_amount`,
	`sod`.`rate` AS `rate`,
	`sod`.`amount` AS `amount`,
	`sod`.`tax_percent` AS `tax_percent`,
	`sod`.`tax_amount` AS `tax_amount`,
	`sod`.`net_amount` AS `net_amount`,
	`sod`.`base_net_amount` AS `base_net_amount`,
	`sod`.`base_currency_id` AS `base_currency_id`,
	`sod`.`created_at` AS `created_at`,
	`sod`.`created_by_id` AS `created_by_id`,
	`sod`.`description` AS `description`,
	`so`.`document_type_id` AS `document_type_id`,
	`so`.`document_identity` AS `document_identity`,
	`so`.`document_date` AS `document_date`,
	`so`.`is_post` AS `is_post`,
	`so`.`partner_type_id` AS `partner_type_id`,
	`so`.`partner_id` AS `partner_id`,
	`so`.`salesman_id` AS `salesman_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`cs`.`name` AS `salesman_name` 
FROM 
	(((((`ins_sale_order_detail` `sod` join `ins_sale_order` `so` on(`so`.`sale_order_id` = `sod`.`sale_order_id`)) left join `core_salesman` `cs` on(`cs`.`salesman_id` = `so`.`salesman_id`)) left join `in0_product` `p` on(`p`.`company_id` = `sod`.`company_id` and `p`.`product_id` = `sod`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `sod`.`company_id` and `u`.`unit_id` = `sod`.`unit_id`));

DROP VIEW IF EXISTS `vw_ins_sale_return`;
CREATE VIEW `vw_ins_sale_return` AS 
SELECT 
	`sr`.`company_id` AS `company_id`,
	`sr`.`company_branch_id` AS `company_branch_id`,
	`sr`.`fiscal_year_id` AS `fiscal_year_id`,
	`sr`.`sale_return_id` AS `sale_return_id`,
	`sr`.`document_type_id` AS `document_type_id`,
	`sr`.`document_prefix` AS `document_prefix`,
	`sr`.`document_no` AS `document_no`,
	`sr`.`document_date` AS `document_date`,
	`sr`.`document_identity` AS `document_identity`,
	`sr`.`partner_type_id` AS `partner_type_id`,
	`sr`.`partner_id` AS `partner_id`,
	`sr`.`ref_invoice_no` AS `ref_invoice_no`,
	`sr`.`billty_date` AS `billty_date`,
	`sr`.`billty_no` AS `billty_no`,
	`sr`.`manual_ref_no` AS `manual_ref_no`,
	`sr`.`remarks` AS `remarks`,
	`sr`.`remarks2` AS `remarks2`,
	`sr`.`document_currency_id` AS `document_currency_id`,
	`sr`.`item_amount` AS `item_amount`,
	`sr`.`item_discount` AS `item_discount`,
	`sr`.`item_tax` AS `item_tax`,
	`sr`.`item_other_expence` AS `item_other_expence`,
	`sr`.`item_total` AS `item_total`,
	`sr`.`cartage_charges` AS `cartage_charges`,
	`sr`.`deduction_amount` AS `deduction_amount`,
	`sr`.`net_amount` AS `net_amount`,
	`sr`.`cash_returned` AS `cash_returned`,
	`sr`.`balance_amount` AS `balance_amount`,
	`sr`.`base_currency_id` AS `base_currency_id`,
	`sr`.`conversion_rate` AS `conversion_rate`,
	`sr`.`base_net_amount` AS `base_net_amount`,
	`sr`.`is_post` AS `is_post`,
	`sr`.`post_date` AS `post_date`,
	`sr`.`post_by_id` AS `post_by_id`,
	`sr`.`created_at` AS `created_at`,
	`sr`.`created_by_id` AS `created_by_id`,
	`sr`.`project_id` AS `project_id`,
	`sr`.`sub_project_id` AS `sub_project_id`,
	`sr`.`job_cart_id` AS `job_cart_id`,
	`sr`.`customer_unit_id` AS `customer_unit_id`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`ins_sale_return` `sr` left join `core_partner` `p` on(`p`.`company_id` = `sr`.`company_id` and `p`.`company_branch_id` = `sr`.`company_branch_id` and `p`.`partner_type_id` = `sr`.`partner_type_id` and `p`.`partner_id` = `sr`.`partner_id`));

DROP VIEW IF EXISTS `vw_ins_sale_return_detail`;
CREATE VIEW `vw_ins_sale_return_detail` AS 
SELECT 
	`srd`.`company_id` AS `company_id`,
	`srd`.`company_branch_id` AS `company_branch_id`,
	`srd`.`fiscal_year_id` AS `fiscal_year_id`,
	`srd`.`sale_return_id` AS `sale_return_id`,
	`srd`.`sale_return_detail_id` AS `sale_return_detail_id`,
	`srd`.`sort_order` AS `sort_order`,
	`srd`.`batch_no` AS `batch_no`,
	`srd`.`warehouse_id` AS `warehouse_id`,
	`srd`.`product_id` AS `product_id`,
	`srd`.`product_code` AS `product_code`,
	`srd`.`ref_document_type_id` AS `ref_document_type_id`,
	`srd`.`ref_document_identity` AS `ref_document_identity`,
	`srd`.`expiry_date` AS `expiry_date`,
	`srd`.`documrnt_curency_id` AS `documrnt_curency_id`,
	`srd`.`unit_id` AS `unit_id`,
	`srd`.`qty` AS `qty`,
	`srd`.`rate` AS `rate`,
	`srd`.`amount` AS `amount`,
	`srd`.`discount_percent` AS `discount_percent`,
	`srd`.`discount_amount` AS `discount_amount`,
	`srd`.`gross_amount` AS `gross_amount`,
	`srd`.`other_expence` AS `other_expence`,
	`srd`.`tax_percent` AS `tax_percent`,
	`srd`.`tax_amount` AS `tax_amount`,
	`srd`.`total_amount` AS `total_amount`,
	`srd`.`base_currency_id` AS `base_currency_id`,
	`srd`.`conversion_rate` AS `conversion_rate`,
	`srd`.`base_total` AS `base_total`,
	`srd`.`remarks` AS `remarks`,
	`srd`.`cog_rate` AS `cog_rate`,
	`srd`.`cog_amount` AS `cog_amount`,
	`srd`.`created_at` AS `created_at`,
	`srd`.`created_by_id` AS `created_by_id`,
	`sr`.`document_type_id` AS `document_type_id`,
	`sr`.`document_identity` AS `document_identity`,
	`sr`.`document_date` AS `document_date`,
	`sr`.`is_post` AS `is_post`,
	`sr`.`partner_type_id` AS `partner_type_id`,
	`sr`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse` 
FROM 
	(((((`ins_sale_return_detail` `srd` join `ins_sale_return` `sr` on(`sr`.`sale_return_id` = `srd`.`sale_return_id`)) left join `in0_product` `p` on(`p`.`company_id` = `srd`.`company_id` and `p`.`product_id` = `srd`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `srd`.`company_id` and `u`.`unit_id` = `srd`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `srd`.`company_id` and `wh`.`company_branch_id` = `srd`.`company_branch_id` and `wh`.`warehouse_id` = `srd`.`warehouse_id`));

DROP VIEW IF EXISTS `vw_ins_sale_tax_invoice`;
CREATE VIEW `vw_ins_sale_tax_invoice` AS 
SELECT 
	`si`.`company_id` AS `company_id`,
	`si`.`company_branch_id` AS `company_branch_id`,
	`si`.`fiscal_year_id` AS `fiscal_year_id`,
	`si`.`sale_tax_no` AS `sale_tax_no`,
	`si`.`sale_tax_invoice_id` AS `sale_tax_invoice_id`,
	`si`.`sale_type` AS `sale_type`,
	`si`.`invoice_type` AS `invoice_type`,
	`si`.`project_id` AS `project_id`,
	`si`.`sub_project_id` AS `sub_project_id`,
	`si`.`document_type_id` AS `document_type_id`,
	`si`.`document_prefix` AS `document_prefix`,
	`si`.`document_no` AS `document_no`,
	`si`.`document_date` AS `document_date`,
	`si`.`document_identity` AS `document_identity`,
	`si`.`partner_type_id` AS `partner_type_id`,
	`si`.`partner_id` AS `partner_id`,
	`si`.`ref_invoice_no` AS `ref_invoice_no`,
	`si`.`billty_date` AS `billty_date`,
	`si`.`billty_no` AS `billty_no`,
	`si`.`manual_ref_no` AS `manual_ref_no`,
	`si`.`remarks` AS `remarks`,
	`si`.`remarks2` AS `remarks2`,
	`si`.`document_currency_id` AS `document_currency_id`,
	`si`.`item_amount` AS `item_amount`,
	`si`.`item_discount` AS `item_discount`,
	`si`.`item_tax` AS `item_tax`,
	`si`.`item_other_expence` AS `item_other_expence`,
	`si`.`item_total` AS `item_total`,
	`si`.`cartage` AS `cartage`,
	`si`.`discount_amount` AS `discount_amount`,
	`si`.`net_amount` AS `net_amount`,
	`si`.`cash_received` AS `cash_received`,
	`si`.`balance_amount` AS `balance_amount`,
	`si`.`base_currency_id` AS `base_currency_id`,
	`si`.`conversion_rate` AS `conversion_rate`,
	`si`.`base_net_amount` AS `base_net_amount`,
	`si`.`is_post` AS `is_post`,
	`si`.`post_date` AS `post_date`,
	`si`.`post_by_id` AS `post_by_id`,
	`si`.`created_at` AS `created_at`,
	`si`.`created_by_id` AS `created_by_id`,
	`si`.`po_date` AS `po_date`,
	`si`.`po_no` AS `po_no`,
	`si`.`dc_no` AS `dc_no`,
	`si`.`ref_document_id` AS `ref_document_id`,
	`si`.`customer_unit_id` AS `customer_unit_id`,
	`si`.`customer_remarks` AS `customer_remarks`,
	`si`.`allow_out_of_stock` AS `allow_out_of_stock`,
	`si`.`hs_code` AS `hs_code`,
	`p`.`partner_type` AS `partner_type`,
	`p`.`name` AS `partner_name` 
FROM 
	(`ins_sale_tax_invoice` `si` left join `core_partner` `p` on(`p`.`company_id` = `si`.`company_id` and `p`.`partner_type_id` = `si`.`partner_type_id` and `p`.`partner_id` = `si`.`partner_id`));

DROP VIEW IF EXISTS `vw_ins_sale_tax_invoice_detail`;
CREATE VIEW `vw_ins_sale_tax_invoice_detail` AS 
SELECT 
	`sid`.`company_id` AS `company_id`,
	`sid`.`company_branch_id` AS `company_branch_id`,
	`sid`.`fiscal_year_id` AS `fiscal_year_id`,
	`sid`.`sale_tax_invoice_id` AS `sale_tax_invoice_id`,
	`sid`.`sale_tax_invoice_detail_id` AS `sale_tax_invoice_detail_id`,
	`sid`.`sort_order` AS `sort_order`,
	`sid`.`batch_no` AS `batch_no`,
	`sid`.`warehouse_id` AS `warehouse_id`,
	`sid`.`product_id` AS `product_id`,
	`sid`.`product_code` AS `product_code`,
	`sid`.`ref_document_type_id` AS `ref_document_type_id`,
	`sid`.`description` AS `description`,
	`sid`.`ref_document_detail_id` AS `ref_document_detail_id`,
	`sid`.`ref_document_identity` AS `ref_document_identity`,
	`sid`.`expiry_date` AS `expiry_date`,
	`sid`.`documrnt_curency_id` AS `documrnt_curency_id`,
	`sid`.`unit_id` AS `unit_id`,
	`sid`.`qty` AS `qty`,
	`sid`.`rate` AS `rate`,
	`sid`.`amount` AS `amount`,
	`sid`.`discount_percent` AS `discount_percent`,
	`sid`.`discount_amount` AS `discount_amount`,
	`sid`.`gross_amount` AS `gross_amount`,
	`sid`.`other_expence` AS `other_expence`,
	`sid`.`tax_percent` AS `tax_percent`,
	`sid`.`tax_amount` AS `tax_amount`,
	`sid`.`total_amount` AS `total_amount`,
	`sid`.`base_currency_id` AS `base_currency_id`,
	`sid`.`conversion_rate` AS `conversion_rate`,
	`sid`.`base_total` AS `base_total`,
	`sid`.`remarks` AS `remarks`,
	`sid`.`cog_rate` AS `cog_rate`,
	`sid`.`cog_amount` AS `cog_amount`,
	`sid`.`created_at` AS `created_at`,
	`sid`.`created_by_id` AS `created_by_id`,
	`si`.`document_type_id` AS `document_type_id`,
	`si`.`document_identity` AS `document_identity`,
	`si`.`document_date` AS `document_date`,
	`si`.`is_post` AS `is_post`,
	`si`.`partner_type_id` AS `partner_type_id`,
	`si`.`partner_id` AS `partner_id`,
	`p`.`product_category_id` AS `product_category_id`,
	`pc`.`name` AS `product_category`,
	`p`.`name` AS `product_name`,
	`u`.`name` AS `unit`,
	`wh`.`name` AS `warehouse`,
	`pr`.`name` AS `partner_name` 
FROM 
	((((((`ins_sale_tax_invoice_detail` `sid` join `ins_sale_tax_invoice` `si` on(`si`.`sale_tax_invoice_id` = `sid`.`sale_tax_invoice_id`)) left join `in0_product` `p` on(`p`.`company_id` = `sid`.`company_id` and `p`.`product_id` = `sid`.`product_id`)) left join `in0_product_category` `pc` on(`pc`.`company_id` = `p`.`company_id` and `pc`.`product_category_id` = `p`.`product_category_id`)) left join `in0_unit` `u` on(`u`.`company_id` = `sid`.`company_id` and `u`.`unit_id` = `sid`.`unit_id`)) left join `in0_warehouse` `wh` on(`wh`.`company_id` = `sid`.`company_id` and `wh`.`company_branch_id` = `sid`.`company_branch_id` and `wh`.`warehouse_id` = `sid`.`warehouse_id`)) left join `core_partner` `pr` on(`pr`.`company_id` = `si`.`company_id` and `pr`.`partner_type_id` = `si`.`partner_type_id` and `pr`.`partner_id` = `si`.`partner_id`));

DROP VIEW IF EXISTS `vw_ins_sale_tax_invoice_pending_status`;
CREATE VIEW `vw_ins_sale_tax_invoice_pending_status` AS 
SELECT 
	`si`.`company_id` AS `company_id`,
	`si`.`company_branch_id` AS `company_branch_id`,
	`si`.`fiscal_year_id` AS `fiscal_year_id`,
	`si`.`sale_tax_invoice_id` AS `sale_tax_invoice_id`,
	`si`.`document_type_id` AS `document_type_id`,
	`si`.`document_prefix` AS `document_prefix`,
	`si`.`document_no` AS `document_no`,
	`si`.`document_date` AS `document_date`,
	`si`.`document_identity` AS `document_identity`,
	`si`.`partner_type_id` AS `partner_type_id`,
	`si`.`partner_id` AS `partner_id`,
	`si`.`ref_invoice_no` AS `ref_invoice_no`,
	`si`.`billty_date` AS `billty_date`,
	`si`.`billty_no` AS `billty_no`,
	`si`.`manual_ref_no` AS `manual_ref_no`,
	`si`.`remarks` AS `remarks`,
	`si`.`remarks2` AS `remarks2`,
	`si`.`document_currency_id` AS `document_currency_id`,
	`si`.`item_amount` AS `item_amount`,
	`si`.`item_discount` AS `item_discount`,
	`si`.`item_tax` AS `item_tax`,
	`si`.`item_other_expence` AS `item_other_expence`,
	`si`.`item_total` AS `item_total`,
	`si`.`cartage` AS `cartage`,
	`si`.`discount_amount` AS `discount_amount`,
	`si`.`net_amount` AS `net_amount`,
	`si`.`cash_received` AS `cash_received`,
	`si`.`balance_amount` AS `balance_amount`,
	`si`.`base_currency_id` AS `base_currency_id`,
	`si`.`conversion_rate` AS `conversion_rate`,
	`si`.`base_net_amount` AS `base_net_amount`,
	`si`.`is_post` AS `is_post`,
	`si`.`post_date` AS `post_date`,
	`si`.`post_by_id` AS `post_by_id`,
	`si`.`created_at` AS `created_at`,
	`si`.`created_by_id` AS `created_by_id`,
	`si`.`po_date` AS `po_date`,
	`si`.`po_no` AS `po_no`,
	`si`.`dc_no` AS `dc_no`,
	`si`.`ref_document_id` AS `ref_document_id`,
	`si`.`customer_unit_id` AS `customer_unit_id`,
	`si`.`customer_remarks` AS `customer_remarks`,
	`si`.`partner_type` AS `partner_type`,
	`si`.`partner_name` AS `partner_name`,
	if(`si`.`net_amount` - ((
SELECT 
	ifnull(sum(`glt_bank_receipt_detail`.`amount`),
	0) 
FROM 
	`glt_bank_receipt_detail` 
WHERE 
	`glt_bank_receipt_detail`.`ref_document_identity` = `si`.`document_identity`) + (
SELECT 
	ifnull(sum(`glt_cash_receipt_detail`.`amount`),
	0) 
FROM 
	`glt_cash_receipt_detail` 
WHERE 
	`glt_cash_receipt_detail`.`ref_document_identity` = `si`.`document_identity`)) > 0,
	'Pending',
	'Cleared') AS `invoice_status` 
FROM 
	`vw_ins_sale_tax_invoice` `si`;

